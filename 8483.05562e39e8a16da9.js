"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[8483],{8483:(P,A,c)=>{c.d(A,{j:()=>ae});var u=c(5219),h=c(9862),s=c(95),e=c(4769),D=c(3557),w=c(981),U=c(8814),y=c(5167),E=c(3259),O=c(5609),C=c(6814),S=c(707),I=c(3714),_=c(9552),g=c(4480),v=c(4104),p=c(1312),f=c(6340),q=c(3904),x=c(8608);function J(l,d){if(1&l){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.openNew())}),e.qZA()}}function L(l,d){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"h5",16),e._uU(2,"Manage Alerts"),e.qZA(),e.TgZ(3,"span",17),e._UZ(4,"i",18),e.TgZ(5,"input",19),e.NdJ("input",function(a){e.CHM(t),e.oxw();const o=e.MAs(5);return e.KtG(o.filterGlobal(a.target.value,"contains"))}),e.qZA()()()}}function z(l,d){1&l&&(e.TgZ(0,"tr")(1,"th",20),e._uU(2,"Organization"),e._UZ(3,"p-sortIcon",21),e.qZA(),e.TgZ(4,"th",22),e._uU(5,"Device"),e._UZ(6,"p-sortIcon",23),e.qZA(),e.TgZ(7,"th",24),e._uU(8,"Unit Name "),e._UZ(9,"p-sortIcon",25),e.qZA(),e.TgZ(10,"th",26),e._uU(11,"Alert Type "),e._UZ(12,"p-sortIcon",27),e.qZA(),e.TgZ(13,"th",28),e._uU(14,"Alert Status "),e._UZ(15,"p-sortIcon",29),e.qZA(),e.TgZ(16,"th",30),e._uU(17,"Alert Value "),e._UZ(18,"p-sortIcon",31),e.qZA(),e.TgZ(19,"th",32),e._uU(20,"Email "),e._UZ(21,"p-sortIcon",33),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Edit"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Delete"),e.qZA()())}function B(l,d){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"th",34),e._UZ(10,"p-badge",35),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td",34)(16,"button",36),e.NdJ("click",function(){const o=e.CHM(t).$implicit,n=e.oxw();return e.KtG(n.editAlert(o))}),e.qZA()(),e.TgZ(17,"td",34)(18,"button",37),e.NdJ("click",function(){const o=e.CHM(t).$implicit,n=e.oxw();return e.KtG(n.deleteAlert(o))}),e.qZA()()()}if(2&l){const t=d.$implicit;e.xp6(2),e.Oqu(t.organization_id),e.xp6(2),e.Oqu(t.device),e.xp6(2),e.Oqu(t.unit_name),e.xp6(2),e.Oqu("1CL"==t.alert_type?"Cretical Low":"2L"==t.alert_type?"Low":"3H"==t.alert_type?"High":"Cretical High"),e.xp6(2),e.Q6J("value","Y"==t.alert_status?"ON":"OFF")("severity","Y"==t.alert_status?"success":"danger"),e.xp6(2),e.Oqu(t.alert_value),e.xp6(2),e.Oqu(t.alert_email)}}function Q(l,d){if(1&l&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("In total there are ",t.models?t.models.length:0," Alerts.")}}function F(l,d){if(1&l&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&l){const t=d.$implicit;e.Q6J("value",t.organization_id),e.xp6(1),e.Oqu(t.organization_name)}}function Y(l,d){if(1&l&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&l){const t=d.$implicit;e.Q6J("value",t.unit_id),e.xp6(1),e.Oqu(t.unit_name)}}function K(l,d){if(1&l&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&l){const t=d.$implicit;e.Q6J("value",t.device_id),e.xp6(1),e.Oqu(t.device)}}const Z=function(){return{standalone:!0}};function R(l,d){if(1&l){const t=e.EpF();e.TgZ(0,"div",54)(1,"div",55)(2,"p-inputSwitch",56),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.low=a)}),e.qZA(),e.TgZ(3,"h5",57),e._uU(4,"Low"),e.qZA()(),e._UZ(5,"br"),e.TgZ(6,"div",55)(7,"p-inputSwitch",56),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.high=a)}),e.qZA(),e.TgZ(8,"h5",57),e._uU(9,"High"),e.qZA()(),e._UZ(10,"br"),e.TgZ(11,"div",55)(12,"p-inputSwitch",56),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.c_low=a)}),e.qZA(),e.TgZ(13,"h5",57),e._uU(14,"Critical Low"),e.qZA()(),e._UZ(15,"br"),e.TgZ(16,"div",55)(17,"p-inputSwitch",56),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.c_high=a)}),e.qZA(),e.TgZ(18,"h5",57),e._uU(19,"Critical High"),e.qZA()()()}if(2&l){const t=e.oxw(2);e.xp6(1),e.Q6J("hidden",!t.low2),e.xp6(1),e.Q6J("ngModelOptions",e.DdM(12,Z))("ngModel",t.low),e.xp6(4),e.Q6J("hidden",!t.high2),e.xp6(1),e.Q6J("ngModelOptions",e.DdM(13,Z))("ngModel",t.high),e.xp6(4),e.Q6J("hidden",!t.c_low2),e.xp6(1),e.Q6J("ngModelOptions",e.DdM(14,Z))("ngModel",t.c_low),e.xp6(4),e.Q6J("hidden",!t.c_high2),e.xp6(1),e.Q6J("ngModelOptions",e.DdM(15,Z))("ngModel",t.c_high)}}function H(l,d){if(1&l){const t=e.EpF();e.TgZ(0,"div",54)(1,"div",58)(2,"p-inputSwitch",56),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.low=a)}),e.qZA(),e.TgZ(3,"h5",57),e._uU(4,"Low"),e.qZA()(),e._UZ(5,"br"),e.TgZ(6,"div",58)(7,"p-inputSwitch",56),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.high=a)}),e.qZA(),e.TgZ(8,"h5",57),e._uU(9,"High"),e.qZA()(),e._UZ(10,"br"),e.TgZ(11,"div",58)(12,"p-inputSwitch",56),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.c_low=a)}),e.qZA(),e.TgZ(13,"h5",57),e._uU(14,"Critical Low"),e.qZA()(),e._UZ(15,"br"),e.TgZ(16,"div",58)(17,"p-inputSwitch",56),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.c_high=a)}),e.qZA(),e.TgZ(18,"h5",57),e._uU(19,"Critical High"),e.qZA()()()}if(2&l){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModelOptions",e.DdM(8,Z))("ngModel",t.low),e.xp6(5),e.Q6J("ngModelOptions",e.DdM(9,Z))("ngModel",t.high),e.xp6(5),e.Q6J("ngModelOptions",e.DdM(10,Z))("ngModel",t.c_low),e.xp6(5),e.Q6J("ngModelOptions",e.DdM(11,Z))("ngModel",t.c_high)}}function k(l,d){1&l&&(e.TgZ(0,"div",59)(1,"label",45),e._uU(2,"Low"),e.qZA(),e._UZ(3,"p-inputNumber",60),e.qZA()),2&l&&(e.xp6(3),e.Q6J("minFractionDigits",2))}function W(l,d){1&l&&(e.TgZ(0,"div",59)(1,"label",45),e._uU(2,"High"),e.qZA(),e._UZ(3,"p-inputNumber",61),e.qZA()),2&l&&(e.xp6(3),e.Q6J("minFractionDigits",2))}function V(l,d){1&l&&(e.TgZ(0,"div",59)(1,"label",45),e._uU(2,"Critical High"),e.qZA(),e._UZ(3,"p-inputNumber",62),e.qZA()),2&l&&(e.xp6(3),e.Q6J("minFractionDigits",2))}function G(l,d){1&l&&(e.TgZ(0,"div",59)(1,"label",45),e._uU(2,"Critical low"),e.qZA(),e._UZ(3,"p-inputNumber",63),e.qZA()),2&l&&(e.xp6(3),e.Q6J("minFractionDigits",2))}function $(l,d){if(1&l&&(e.TgZ(0,"from",38)(1,"div",39)(2,"label",40),e._uU(3,"Select Organization"),e.TgZ(4,"span",41),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"select",42)(7,"option",43),e._uU(8,"Select an Organization"),e.qZA(),e.YNc(9,F,2,2,"option",44),e.qZA()(),e.TgZ(10,"div",39)(11,"label",45),e._uU(12,"Unit"),e.TgZ(13,"span",41),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"select",46)(16,"option",47),e._uU(17,"Select a Unit"),e.qZA(),e.YNc(18,Y,2,2,"option",44),e.qZA()(),e.TgZ(19,"div",39)(20,"label",40),e._uU(21,"Select Device"),e.TgZ(22,"span",41),e._uU(23,"*"),e.qZA()(),e.TgZ(24,"select",48)(25,"option",47),e._uU(26,"Select a Device"),e.qZA(),e.YNc(27,K,2,2,"option",44),e.qZA()(),e.TgZ(28,"div",39)(29,"label",45),e._uU(30,"Email"),e.TgZ(31,"span",41),e._uU(32,"*"),e.qZA()(),e._UZ(33,"input",49),e.qZA(),e.TgZ(34,"div",39)(35,"label",45),e._uU(36,"Alert Type"),e.qZA(),e.YNc(37,R,20,16,"div",50),e.YNc(38,H,20,12,"div",50),e.TgZ(39,"div",51),e.YNc(40,k,4,1,"div",52),e.YNc(41,W,4,1,"div",52),e.qZA(),e.TgZ(42,"div",51),e.YNc(43,V,4,1,"div",52),e.YNc(44,G,4,1,"div",52),e.qZA()()()),2&l){const t=e.oxw();e.Q6J("formGroup",t.unitForm),e.xp6(7),e.Q6J("value",0),e.xp6(2),e.Q6J("ngForOf",t.products),e.xp6(9),e.Q6J("ngForOf",t.unitList),e.xp6(9),e.Q6J("ngForOf",t.cities),e.xp6(10),e.Q6J("ngIf",t.editMode),e.xp6(1),e.Q6J("ngIf",!t.editMode),e.xp6(2),e.Q6J("ngIf",t.low),e.xp6(1),e.Q6J("ngIf",t.high),e.xp6(2),e.Q6J("ngIf",t.c_high),e.xp6(1),e.Q6J("ngIf",t.c_low)}}function j(l,d){if(1&l){const t=e.EpF();e.TgZ(0,"button",64),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.hideDialog())}),e.qZA(),e.TgZ(1,"button",65),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveProduct())}),e.qZA()}}function X(l,d){1&l&&(e.TgZ(0,"div",66),e._UZ(1,"div")(2,"div")(3,"div")(4,"div")(5,"div"),e.qZA())}function ee(l,d){1&l&&e._UZ(0,"div",67)}const te=function(){return["organization_id","device","unit_name","alert_type","alert_status"]},ie=function(){return{"min-width":"75rem"}},se=function(){return{width:"600px",height:"750px"}},ne=function(){return{width:"450px"}};let ae=(()=>{var l;class d{constructor(i,a,o,n,r,m,T){this.router=i,this.formBuilder=a,this.http=o,this.productService=n,this.messageService=r,this.confirmationService=m,this.api=T,this.productDialog=!1,this.credentials=[],this.submitted=!1,this.companyList=[],this.unitList=[],this.productList=[],this.modelList=[],this.client_id=+localStorage.getItem("c_id"),this.value="",this.editMode=!1,this.low=!1,this.high=!1,this.c_low=!1,this.c_high=!1,this.low2=!0,this.high2=!0,this.c_low2=!0,this.c_high2=!0,this.value3=15,this.cities=[],this.spinner=!1,this.cities2=[{unit_name:"voltage",unit:"volt"},{unit_name:"current",unit:"ampere"},{unit_name:"resistance",unit:"ohm"},{unit_name:"power",unit:"watt"},{unit_name:"capacitance",unit:"farad"},{unit_name:"inductance",unit:"henry"},{unit_name:"frequency",unit:"hertz"},{unit_name:"impedance",unit:"ohm"}],this.cities3=[{name:"high"},{name:"low"},{name:"critical heigh"},{name:"critical low"},{name:"Emergency"}],this.unitForm=this.formBuilder.group({alert_id:[""],organization_id:["0",s.kI.required],device_id:["0",s.kI.required],device:[""],unit_id:["0",s.kI.required],low_val:[""],high_val:[""],c_high_val:[""],c_low_val:[""],email:["",s.kI.required]})}ngOnInit(){this.ct=this.unitForm.controls,this.getOrganization(),this.getDevice(),this.getUnit(),this.getAlertList(),this.unitForm.patchValue({organization_id:0,device_id:0,unit_id:0})}abc(){}getUnit(){const i=this.api.baseUrl,a=localStorage.getItem("token"),o=(new h.WM).set("Authorization",`Bearer ${a}`);this.spinner=!0,this.http.post(i+"/client/unit/list",{headers:o}).subscribe(n=>{this.spinner=!1,console.log(n),this.units=n,this.unitList=this.units.data},n=>{"401"==n.status&&this.router.navigate(["/"]),console.log(n.status),this.spinner=!1,console.error(n)})}getOrganization(){const i=this.api.baseUrl,a=localStorage.getItem("token"),o=(new h.WM).set("Authorization",`Bearer ${a}`),n={client_id:this.client_id};this.spinner=!0,this.http.post(i+"/client/manage_organization/list",n,{headers:o}).subscribe(r=>{this.spinner=!1,console.log(r),this.data1=r,this.products=this.data1.data},r=>{"401"==r.status&&this.router.navigate(["/"]),console.log(r.status),this.spinner=!1,console.error(r)})}getAlertList(){const i=this.api.baseUrl,a=localStorage.getItem("token"),o=(new h.WM).set("Authorization",`Bearer ${a}`),n={client_id:this.client_id};this.spinner=!0,this.http.post(i+"/client/alert/list",n,{headers:o}).subscribe(r=>{this.spinner=!1,console.log(r),this.modelList=r,this.models=this.modelList.data,this.models.forEach(m=>{m.organization_id=this.products.filter(T=>T.organization_id==m.organization_id)[0].organization_name})},r=>{"401"==r.status&&this.router.navigate(["/"]),console.log(r.status),this.spinner=!1,console.error(r),this.messageService.add({severity:"error",summary:"Error",detail:"From Server Side!!",life:3e3})})}getDeviceCompany(){const i=this.api.baseUrl,a=localStorage.getItem("token"),o=(new h.WM).set("Authorization",`Bearer ${a}`);this.spinner=!0,this.http.get(i+"/master/list-origination",{headers:o}).subscribe(n=>{this.spinner=!1,console.log(n),this.companyList=n,this.companys=this.companyList.data},n=>{"401"==n.status&&this.router.navigate(["/"]),console.log(n.status),this.spinner=!1,console.error(n)})}openNew(){this.editMode=!1,this.unitForm.reset(),this.product={},this.submitted=!1,this.productDialog=!0,this.low=!1,this.c_low=!1,this.high=!1,this.c_high=!1,this.unitForm.patchValue({organization_id:0,device_id:0,unit_id:0})}deleteSelectedProducts(){this.confirmationService.confirm({message:"Are you sure you want to delete the selected products?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.products=this.products.filter(i=>!this.selectedProducts?.includes(i)),this.selectedProducts=null,this.messageService.add({severity:"success",summary:"Successful",detail:"User Deleted",life:3e3})}})}changePass(){this.editMode=!1}editAlert(i){this.editedalert=i.alert_type,this.editMode=!0,"1CL"==i.alert_type&&(this.ct.c_low_val.setValue(i.alert_value),this.ct.low_val.setValue(0),this.ct.high_val.setValue(0),this.ct.c_high_val.setValue(0),this.c_low=!0,this.low=!1,this.high=!1,this.c_high=!1,this.c_low2=!1,this.low2=!0,this.high2=!0,this.c_high2=!0),"2L"==i.alert_type&&(this.ct.low_val.setValue(i.alert_value),this.ct.c_low_val.setValue(0),this.ct.high_val.setValue(0),this.ct.c_high_val.setValue(0),this.low=!0,this.c_low=!1,this.high=!1,this.c_high=!1,this.low2=!1,this.c_low2=!0,this.high2=!0,this.c_high2=!0),"3H"==i.alert_type&&(this.ct.high_val.setValue(i.alert_value),this.ct.c_low_val.setValue(0),this.ct.low_val.setValue(0),this.ct.c_high_val.setValue(0),this.high=!0,this.low=!1,this.c_low=!1,this.c_high=!1,this.high2=!1,this.low2=!0,this.c_low2=!0,this.c_high2=!0),"4CH"==i.alert_type&&(this.ct.c_high_val.setValue(i.alert_value),this.ct.c_low_val.setValue(0),this.ct.low_val.setValue(0),this.ct.high_val.setValue(0),this.c_high=!0,this.low=!1,this.c_low=!1,this.high=!1,this.c_high2=!1,this.low2=!0,this.c_low2=!0,this.high2=!0),this.productDialog=!0,this.unitForm.patchValue({alert_id:i.alert_id,organization_id:i.organization_id,device_id:i.device_id,unit_id:i.unit_id,email:i.alert_email})}deleteAlert(i){this.confirmationService.confirm({message:"Are you sure you want to delete "+i.device+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.DeleteAlert(i)}})}hideDialog(){this.credentials=[],this.productDialog=!1}saveProduct(){this.spinner=!0,this.low&&(this.credentials1={alert_id:this.ct.alert_id.value,client_id:this.client_id,organization_id:this.ct.organization_id.value,device_id:this.ct.device_id.value,device:this.cities.filter(n=>n.device_id==this.ct.device_id.value)[0].device,unit_id:this.ct.unit_id.value,alert_type:"2L",alert_status:"Y",alert_value:this.ct.low_val.value,alert_email:this.ct.email.value,create_by:Number(localStorage.getItem("user_id"))},this.credentials.push(this.credentials1)),this.c_low&&(this.credentials2={alert_id:this.ct.alert_id.value,client_id:this.client_id,organization_id:this.ct.organization_id.value,device_id:this.ct.device_id.value,device:this.cities.filter(n=>n.device_id==this.ct.device_id.value)[0].device,unit_id:this.ct.unit_id.value,alert_type:"1CL",alert_status:"Y",alert_value:this.ct.c_low_val.value,alert_email:this.ct.email.value,create_by:Number(localStorage.getItem("user_id"))},this.credentials.push(this.credentials2)),this.high&&(this.credentials3={alert_id:this.ct.alert_id.value,client_id:this.client_id,organization_id:this.ct.organization_id.value,device_id:this.ct.device_id.value,device:this.cities.filter(n=>n.device_id==this.ct.device_id.value)[0].device,unit_id:this.ct.unit_id.value,alert_type:"3H",alert_status:"Y",alert_value:this.ct.high_val.value,alert_email:this.ct.email.value,create_by:Number(localStorage.getItem("user_id"))},this.credentials.push(this.credentials3)),this.c_high?(this.credentials4={alert_id:this.ct.alert_id.value,client_id:this.client_id,organization_id:this.ct.organization_id.value,device_id:this.ct.device_id.value,device:this.cities.filter(n=>n.device_id==this.ct.device_id.value)[0].device,unit_id:this.ct.unit_id.value,alert_type:"4CH",alert_status:"Y",alert_value:this.ct.c_high_val.value,alert_email:this.ct.email.value,create_by:Number(localStorage.getItem("user_id"))},this.credentials.push(this.credentials4)):this.credentials5={alert_id:this.ct.alert_id.value,client_id:this.client_id,organization_id:this.ct.organization_id.value,device_id:this.ct.device_id.value,device:this.cities.filter(n=>n.device_id==this.ct.device_id.value)[0].device,unit_id:this.ct.unit_id.value,alert_type:this.editedalert,alert_status:"N",alert_value:0,alert_email:this.ct.email.value,create_by:Number(localStorage.getItem("user_id"))};const i=this.api.baseUrl,a=localStorage.getItem("token"),o=(new h.WM).set("Authorization",`Bearer ${a}`);this.unitForm.invalid?this.messageService.add({severity:"error",summary:"Error",detail:"Please fill all the required field!",life:3e3}):this.ct.alert_id.value?this.http.post(i+"/client/alert/edit",this.low?this.credentials1:this.c_low?this.credentials2:this.high?this.credentials3:this.c_high?this.credentials4:this.credentials5,{headers:o}).subscribe(n=>{this.spinner=!1,console.log(n),this.messageService.add({severity:"success",summary:"Successful",detail:"Alert Updated",life:3e3}),this.getAlertList(),this.hideDialog()},n=>{"401"==n.status&&this.router.navigate(["/"]),console.log(n.status),this.spinner=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}),console.error(n)}):this.http.post(i+"/client/alert/add",this.credentials,{headers:o}).subscribe(n=>{this.spinner=!1,console.log(n),this.messageService.add({severity:"success",summary:"Successful",detail:"Alert Created",life:3e3}),this.getAlertList(),this.hideDialog()},n=>{"401"==n.status&&this.router.navigate(["/"]),console.log(n.status),this.spinner=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}),console.error(n)})}findIndexById(i){let a=-1;for(let o=0;o<this.products.length;o++)if(this.products[o].origination_id===i){a=o;break}return a}updateCompany(i,a,o,n,r){const m={origination_id:i,user_id:a,name:o,email:n,password:r},T=this.api.baseUrl,N=localStorage.getItem("token"),M=(new h.WM).set("Authorization",`Bearer ${N}`);this.spinner=!0,this.http.post(T+"/master/edit-user",m,{headers:M}).subscribe(b=>{this.spinner=!1,console.log(b),this.messageService.add({severity:"success",summary:"Successful",detail:"User Updated",life:3e3}),this.getAlertList()},b=>{"401"==b.status&&this.router.navigate(["/"]),console.log(b.status),this.spinner=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}),console.error(b)})}AddCompany(i,a,o,n){const r={origination_id:i,name:a,email:o,password:n},m=this.api.baseUrl,T=localStorage.getItem("token"),N=(new h.WM).set("Authorization",`Bearer ${T}`);this.spinner=!0,this.http.post(m+"/master/add-user",r,{headers:N}).subscribe(M=>{this.spinner=!1,console.log(M),this.messageService.add({severity:"success",summary:"Successful",detail:"User Created",life:3e3}),this.getAlertList()},M=>{"401"==M.status&&this.router.navigate(["/"]),console.log(M.status),this.spinner=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}),console.error(M)})}DeleteAlert(i){const a={alert_id:i.alert_id,client_id:this.client_id,organization_id:i.organization_id,device_id:i.device_id},o=this.api.baseUrl,n=localStorage.getItem("token"),r=(new h.WM).set("Authorization",`Bearer ${n}`);this.spinner=!0,this.http.post(o+"/client/alert/delete",a,{headers:r}).subscribe(m=>{this.spinner=!1,console.log(m),this.messageService.add({severity:"success",summary:"Successful",detail:"Alert Deleted",life:3e3}),this.getAlertList(),this.hideDialog()},m=>{"401"==m.status&&this.router.navigate(["/"]),console.log(m.status),this.spinner=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}),console.error(m)})}getDevice(){const i=this.api.baseUrl,a=localStorage.getItem("token"),o=(new h.WM).set("Authorization",`Bearer ${a}`),n={client_id:this.client_id};this.spinner=!0,this.http.post(i+"/client/devices/list",n,{headers:o}).subscribe(r=>{this.spinner=!1,console.log(r,"ppp"),this.data1=r,this.cities=this.data1.data},r=>{"401"==r.status&&this.router.navigate(["/"]),console.log(r.status),this.spinner=!1,console.error(r)})}}return(l=d).\u0275fac=function(i){return new(i||l)(e.Y36(D.F0),e.Y36(s.qu),e.Y36(h.eN),e.Y36(w.M),e.Y36(u.ez),e.Y36(u.YP),e.Y36(U.s))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-messagesdemo"]],features:[e._Bn([u.ez,u.YP])],decls:16,vars:20,consts:[[1,"card"],["styleClass","mb-4 gap-2"],["pTemplate","left"],["dataKey","device","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Alert Details","styleClass","p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["class","loader",4,"ngIf"],["class","overlay",4,"ngIf"],["pButton","","pRipple","","label","Create new alert","icon","pi pi-plus",1,"p-button-primary","mr-2",3,"click"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["pSortableColumn","organization_id"],["field","organization_id"],["pSortableColumn","device"],["field","device"],["pSortableColumn","unit_name"],["field","unit_name"],["pSortableColumn","alert_type"],["field","alert_type"],["pSortableColumn","alert_status"],["field","alert_status"],["pSortableColumn","alert_value"],["field","alert_value"],["pSortableColumn","alert_email"],["field","alert_email"],[2,"text-align","center"],[3,"value","severity"],["type","button","pButton","","pRipple","","icon","pi pi-pencil",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger",3,"click"],[3,"formGroup"],[1,"field"],["for","company"],[2,"color","red"],["formControlName","organization_id",2,"width","100%","height","39px","border-color","lightgray","border-radius","5px"],["selected","","disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","product"],["formControlName","unit_id",2,"width","100%","height","39px","border-color","lightgray","border-radius","5px"],["selected","","disabled","","value","0"],["formControlName","device_id",2,"width","100%","height","39px","border-color","lightgray","border-radius","5px"],["type","text","pInputText","","id","email","placeholder","Enter a mail id","formControlName","email","required",""],["class","flex flex-column md:flex-row gap-3",4,"ngIf"],[1,"flex","flex-column","md:flex-row","gap-1"],["class","col-6 lg:col-6 xl:col-6",4,"ngIf"],[3,"value"],[1,"flex","flex-column","md:flex-row","gap-3"],[2,"display","flex",3,"hidden"],[3,"ngModelOptions","ngModel","ngModelChange"],[2,"padding","3px","margin","0px","font-size","14px"],[2,"display","flex"],[1,"col-6","lg:col-6","xl:col-6"],["placeholder","Enter Low Value","formControlName","low_val","pTooltip","Below this value Alert will generated","required","",3,"minFractionDigits"],["placeholder","Enter High Value","formControlName","high_val","pTooltip","Below this value Alert will generated","required","",3,"minFractionDigits"],["placeholder","Enter Critical High Value","formControlName","c_high_val","pTooltip","Below this value Alert will generated","required","",3,"minFractionDigits"],["placeholder","Enter Critical low Value","formControlName","c_low_val","pTooltip","Below this value Alert will generated","required","",3,"minFractionDigits"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],[1,"loader"],[1,"overlay"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"p-toolbar",1),e.YNc(3,J,1,0,"ng-template",2),e.qZA(),e.TgZ(4,"p-table",3,4),e.NdJ("selectionChange",function(n){return a.selectedProducts=n}),e.YNc(6,L,6,0,"ng-template",5),e.YNc(7,z,26,0,"ng-template",6),e.YNc(8,B,19,8,"ng-template",7),e.YNc(9,Q,2,1,"ng-template",8),e.qZA()(),e.TgZ(10,"p-dialog",9),e.NdJ("visibleChange",function(n){return a.productDialog=n}),e.YNc(11,$,45,11,"ng-template",10),e.YNc(12,j,2,0,"ng-template",11),e.qZA(),e._UZ(13,"p-confirmDialog"),e.YNc(14,X,6,0,"div",12),e.YNc(15,ee,1,0,"div",13)),2&i&&(e.xp6(4),e.Q6J("value",a.models)("rows",4)("paginator",!0)("globalFilterFields",e.DdM(16,te))("tableStyle",e.DdM(17,ie))("selection",a.selectedProducts)("rowHover",!0)("showCurrentPageReport",!0),e.xp6(6),e.Akn(e.DdM(18,se)),e.Q6J("visible",a.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(19,ne)),e.xp6(1),e.Q6J("ngIf",a.spinner),e.xp6(1),e.Q6J("ngIf",a.spinner))},dependencies:[y.Rn,u.jx,E.u,O.Ql,C.sg,C.O5,S.Hq,I.o,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.On,_.iA,_.lQ,_.fz,g.H,v.FN,p.V,f.o,q.Q,x.Ct,s.sg,s.u],encapsulation:2}),d})()},6340:(P,A,c)=>{c.d(A,{V:()=>I,o:()=>S});var u=c(1180),h=c(6814),s=c(4769),e=c(5219);function D(_,g){1&_&&s.GkF(0)}function w(_,g){if(1&_&&(s.TgZ(0,"div",4),s.YNc(1,D,1,0,"ng-container",5),s.qZA()),2&_){const v=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",v.startTemplate)}}function U(_,g){1&_&&s.GkF(0)}function y(_,g){if(1&_&&(s.TgZ(0,"div",6),s.YNc(1,U,1,0,"ng-container",5),s.qZA()),2&_){const v=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",v.centerTemplate)}}function E(_,g){1&_&&s.GkF(0)}function O(_,g){if(1&_&&(s.TgZ(0,"div",7),s.YNc(1,E,1,0,"ng-container",5),s.qZA()),2&_){const v=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",v.endTemplate)}}const C=["*"];let S=(()=>{var _;class g{constructor(p){(0,u.Z)(this,"el",void 0),(0,u.Z)(this,"style",void 0),(0,u.Z)(this,"styleClass",void 0),(0,u.Z)(this,"templates",void 0),(0,u.Z)(this,"startTemplate",void 0),(0,u.Z)(this,"endTemplate",void 0),(0,u.Z)(this,"centerTemplate",void 0),this.el=p}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(p=>{switch(p.getType()){case"left":this.startTemplate=p.template;break;case"right":this.endTemplate=p.template;break;case"center":this.centerTemplate=p.template}})}}return _=g,(0,u.Z)(g,"\u0275fac",function(p){return new(p||_)(s.Y36(s.SBq))}),(0,u.Z)(g,"\u0275cmp",s.Xpm({type:_,selectors:[["p-toolbar"]],contentQueries:function(p,f,q){if(1&p&&s.Suo(q,e.jx,4),2&p){let x;s.iGM(x=s.CRH())&&(f.templates=x)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:C,decls:5,vars:7,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left p-toolbar-group-start",4,"ngIf"],["class","p-toolbar-group-center",4,"ngIf"],["class","p-toolbar-group-right p-toolbar-group-end",4,"ngIf"],[1,"p-toolbar-group-left","p-toolbar-group-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-center"],[1,"p-toolbar-group-right","p-toolbar-group-end"]],template:function(p,f){1&p&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.YNc(2,w,2,1,"div",1),s.YNc(3,y,2,1,"div",2),s.YNc(4,O,2,1,"div",3),s.qZA()),2&p&&(s.Tol(f.styleClass),s.Q6J("ngClass","p-toolbar p-component")("ngStyle",f.style),s.xp6(2),s.Q6J("ngIf",f.startTemplate),s.xp6(1),s.Q6J("ngIf",f.centerTemplate),s.xp6(1),s.Q6J("ngIf",f.endTemplate))},dependencies:[h.mk,h.O5,h.tP,h.PC],styles:[".p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-start,.p-toolbar-group-center,.p-toolbar-group-end,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}\n"],encapsulation:2,changeDetection:0})),g})(),I=(()=>{var _;class g{}return _=g,(0,u.Z)(g,"\u0275fac",function(p){return new(p||_)}),(0,u.Z)(g,"\u0275mod",s.oAB({type:_})),(0,u.Z)(g,"\u0275inj",s.cJS({imports:[h.ez]})),g})()}}]);