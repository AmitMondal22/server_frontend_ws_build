"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[3026],{3026:(q,M,s)=>{s.d(M,{D:()=>_t});var e=s(5219),v=s(9862),l=s(253),t=s(4769),A=s(3557),_=s(5118),c=s(8814),f=s(981),C=s(6814),D=s(9552),O=s(707),y=s(95),E=s(4480),g=s(4104),h=s(6340),p=s(3714),d=s(5167),m=s(1312),x=s(9920);function Z(o,u){if(1&o){const i=t.EpF();t.TgZ(0,"div",42)(1,"button",43),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.openNew())}),t.qZA(),t.TgZ(2,"button",44),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.ShowPaid())}),t.qZA(),t.TgZ(3,"button",45),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.ShowDue())}),t.qZA(),t.TgZ(4,"div",17)(5,"h5",46),t._uU(6),t.ALo(7,"currency"),t.qZA()()()}if(2&o){const i=t.oxw();t.xp6(6),t.AsE("Customer Name: ",i.custDtls.name.toUpperCase()," | Due Amount: ",i.dueP_flg?i.dueAfterPayment:t.xi3(7,2,i.BalanceAmount,"INR"),"")}}function w(o,u){if(1&o){const i=t.EpF();t.TgZ(0,"div",51)(1,"h5",52),t._uU(2,"Manage Products"),t.qZA(),t.TgZ(3,"span",53),t._UZ(4,"i",54),t.TgZ(5,"input",55),t.NdJ("input",function(n){t.CHM(i),t.oxw();const a=t.MAs(1),T=t.oxw();return t.KtG(T.onGlobalFilter(a,n))}),t.qZA()()()}}function I(o,u){1&o&&(t.TgZ(0,"tr")(1,"th",56),t._uU(2,"Billing ID"),t._UZ(3,"p-sortIcon",57),t.qZA(),t.TgZ(4,"th",58),t._uU(5,"Payment Status "),t.qZA(),t.TgZ(6,"th",59),t._uU(7,"Transaction Date "),t.qZA(),t.TgZ(8,"th",60),t._uU(9,"Amount "),t.qZA(),t.TgZ(10,"th",61),t._uU(11,"View Bill Details"),t.qZA()())}function N(o,u){1&o&&(t.ynx(0),t.TgZ(1,"h5",64),t._uU(2,"DUE"),t.qZA(),t.BQk())}function k(o,u){1&o&&(t.ynx(0),t.TgZ(1,"h5",65),t._uU(2,"PAID"),t.qZA(),t.BQk())}function Y(o,u){if(1&o&&(t.ynx(0),t.TgZ(1,"h5",66),t._uU(2),t.qZA(),t.BQk()),2&o){const i=t.oxw().$implicit;t.xp6(2),t.Oqu(i.billing_id?"DUE PAYMENT":"COUNTER PAYMENT")}}function J(o,u){if(1&o){const i=t.EpF();t.TgZ(0,"div")(1,"button",67),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.showBill(n))}),t.qZA()()}}function K(o,u){if(1&o&&(t.TgZ(0,"tr")(1,"td",62)(2,"span",63),t._uU(3,"billing_id"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td",61)(6,"span",63),t._uU(7,"payment_flag"),t.qZA(),t.YNc(8,N,3,0,"ng-container",12),t.YNc(9,k,3,0,"ng-container",12),t.YNc(10,Y,3,1,"ng-container",12),t.qZA(),t.TgZ(11,"td",62)(12,"span",63),t._uU(13,"transaction_date"),t.qZA(),t._uU(14),t.qZA(),t.TgZ(15,"td",62)(16,"span",63),t._uU(17,"amount"),t.qZA(),t._uU(18),t.ALo(19,"currency"),t.qZA(),t.TgZ(20,"td",61),t.YNc(21,J,2,0,"div",12),t.qZA()()),2&o){const i=u.$implicit;t.xp6(4),t.hij(" ",i.billing_id," "),t.xp6(4),t.Q6J("ngIf","D"==i.payment_flag),t.xp6(1),t.Q6J("ngIf","P"==i.payment_flag),t.xp6(1),t.Q6J("ngIf","A"==i.payment_flag),t.xp6(4),t.hij(" ",i.transaction_date," "),t.xp6(4),t.hij(" ",t.xi3(19,7,i.amount,"INR")," "),t.xp6(3),t.Q6J("ngIf",i.billing_id)}}const B=function(){return["billing_id","payment_flag","transaction_date","amount"]},S=function(){return[10,20,30]};function L(o,u){if(1&o){const i=t.EpF();t.TgZ(0,"p-table",47,48),t.NdJ("selectionChange",function(n){t.CHM(i);const a=t.oxw();return t.KtG(a.selectedProducts=n)}),t.YNc(2,w,6,0,"ng-template",49),t.YNc(3,I,12,0,"ng-template",34),t.YNc(4,K,22,10,"ng-template",50),t.qZA()}if(2&o){const i=t.oxw();t.Q6J("value",i.PaidtransDtls)("columns",i.cols)("rows",10)("globalFilterFields",t.DdM(9,B))("paginator",!0)("rowsPerPageOptions",t.DdM(10,S))("showCurrentPageReport",!0)("selection",i.selectedProducts)("rowHover",!0)}}function F(o,u){if(1&o){const i=t.EpF();t.TgZ(0,"div",51)(1,"span",53),t._UZ(2,"i",54),t.TgZ(3,"input",55),t.NdJ("input",function(n){t.CHM(i),t.oxw();const a=t.MAs(1),T=t.oxw();return t.KtG(T.onGlobalFilter(a,n))}),t.qZA()()()}}function W(o,u){1&o&&(t.TgZ(0,"tr")(1,"th",56),t._uU(2,"Billing ID"),t._UZ(3,"p-sortIcon",57),t.qZA(),t.TgZ(4,"th",58),t._uU(5,"Payment Status "),t.qZA(),t.TgZ(6,"th",59),t._uU(7,"Transaction Date "),t.qZA(),t.TgZ(8,"th",60),t._uU(9,"Amount "),t.qZA(),t.TgZ(10,"th",61),t._uU(11,"View Bill Details"),t.qZA()())}function Q(o,u){1&o&&(t.ynx(0),t.TgZ(1,"h5",64),t._uU(2,"DUE"),t.qZA(),t.BQk())}function j(o,u){1&o&&(t.ynx(0),t.TgZ(1,"h5",65),t._uU(2,"PAID"),t.qZA(),t.BQk())}function H(o,u){if(1&o&&(t.ynx(0),t.TgZ(1,"h5",66),t._uU(2),t.qZA(),t.BQk()),2&o){const i=t.oxw().$implicit;t.xp6(2),t.Oqu(i.billing_id?"DUE PAYMENT":"COUNTER PAYMENT")}}function G(o,u){if(1&o){const i=t.EpF();t.TgZ(0,"div")(1,"button",67),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.showBill(n))}),t.qZA()()}}function $(o,u){if(1&o&&(t.TgZ(0,"tr")(1,"td",62)(2,"span",63),t._uU(3,"billing_id"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td",61)(6,"span",63),t._uU(7,"payment_flag"),t.qZA(),t.YNc(8,Q,3,0,"ng-container",12),t.YNc(9,j,3,0,"ng-container",12),t.YNc(10,H,3,1,"ng-container",12),t.qZA(),t.TgZ(11,"td",62)(12,"span",63),t._uU(13,"transaction_date"),t.qZA(),t._uU(14),t.qZA(),t.TgZ(15,"td",62)(16,"span",63),t._uU(17,"amount"),t.qZA(),t._uU(18),t.ALo(19,"currency"),t.qZA(),t.TgZ(20,"td",61),t.YNc(21,G,2,0,"div",12),t.qZA()()),2&o){const i=u.$implicit;t.xp6(4),t.hij(" ",i.billing_id," "),t.xp6(4),t.Q6J("ngIf","D"==i.payment_flag),t.xp6(1),t.Q6J("ngIf","P"==i.payment_flag),t.xp6(1),t.Q6J("ngIf","A"==i.payment_flag),t.xp6(4),t.hij(" ",i.transaction_date," "),t.xp6(4),t.hij(" ",t.xi3(19,7,i.amount,"INR")," "),t.xp6(3),t.Q6J("ngIf",i.billing_id)}}function z(o,u){if(1&o){const i=t.EpF();t.TgZ(0,"p-table",47,68),t.NdJ("selectionChange",function(n){t.CHM(i);const a=t.oxw();return t.KtG(a.selectedProducts=n)}),t.YNc(2,F,4,0,"ng-template",49),t.YNc(3,W,12,0,"ng-template",34),t.YNc(4,$,22,10,"ng-template",50),t.qZA()}if(2&o){const i=t.oxw();t.Q6J("value",i.DuetransDtls)("columns",i.cols)("rows",10)("globalFilterFields",t.DdM(9,B))("paginator",!0)("rowsPerPageOptions",t.DdM(10,S))("showCurrentPageReport",!0)("selection",i.selectedProducts)("rowHover",!0)}}const V=function(o){return{"ng-invalid ng-dirty":o}};function X(o,u){if(1&o){const i=t.EpF();t.TgZ(0,"div",69)(1,"label",70),t._uU(2,"Name"),t.qZA(),t.TgZ(3,"input",71),t.NdJ("ngModelChange",function(n){t.CHM(i);const a=t.oxw();return t.KtG(a.custDtls.name=n)}),t.qZA()(),t.TgZ(4,"div",69)(5,"label",70),t._uU(6,"Amount"),t.qZA(),t.TgZ(7,"p-inputNumber",72),t.NdJ("ngModelChange",function(n){t.CHM(i);const a=t.oxw();return t.KtG(a.depositAmount=n)}),t.qZA()()}if(2&o){const i=t.oxw();t.xp6(3),t.Q6J("ngModel",i.custDtls.name),t.xp6(4),t.Q6J("ngModel",i.depositAmount)("ngClass",t.VKq(3,V,i.submitted&&!i.custDtls.name))}}function tt(o,u){if(1&o){const i=t.EpF();t.TgZ(0,"button",73),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.hideDialog())}),t.qZA(),t.TgZ(1,"button",74),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.saveProduct())}),t.qZA()}}function et(o,u){if(1&o&&(t.TgZ(0,"span"),t._uU(1,"Are you sure you want to delete "),t.TgZ(2,"b"),t._uU(3),t.qZA(),t._uU(4,"?"),t.qZA()),2&o){const i=t.oxw();t.xp6(3),t.Oqu(i.product.name)}}function nt(o,u){if(1&o){const i=t.EpF();t.TgZ(0,"button",75),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.deleteProductDialog=!1)}),t.qZA(),t.TgZ(1,"button",76),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.confirmDelete())}),t.qZA()}}function it(o,u){if(1&o){const i=t.EpF();t.TgZ(0,"button",75),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.deleteProductsDialog=!1)}),t.qZA(),t.TgZ(1,"button",76),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.confirmDeleteSelected())}),t.qZA()}}function ot(o,u){1&o&&(t.TgZ(0,"tr",77)(1,"td",78)(2,"strong"),t._uU(3,"Payment"),t.qZA()(),t.TgZ(4,"td",79)(5,"strong"),t._uU(6,"Price"),t.qZA()()())}function lt(o,u){if(1&o&&(t.TgZ(0,"tr")(1,"td",80),t._uU(2,"Due Amount:"),t.qZA(),t.TgZ(3,"td",81),t._uU(4),t.ALo(5,"currency"),t.qZA()(),t.TgZ(6,"tr")(7,"td",80),t._uU(8,"Paid Amount:"),t.qZA(),t.TgZ(9,"td",81),t._uU(10),t.ALo(11,"currency"),t.qZA()()),2&o){const i=t.oxw();t.xp6(4),t.Oqu(t.xi3(5,2,i.BalanceAmount,"INR")),t.xp6(6),t.Oqu(t.xi3(11,5,i.depositAmount,"INR"))}}function rt(o,u){1&o&&(t.TgZ(0,"div",82),t._UZ(1,"div")(2,"div")(3,"div")(4,"div")(5,"div"),t.qZA())}function st(o,u){1&o&&t._UZ(0,"div",83)}const at=function(){return{width:"550px"}},R=function(){return{width:"450px"}};let _t=(()=>{var o;class u{constructor(r,n,a,T,U,b){this.router=r,this.dialogService=n,this.http=a,this.api=T,this.productService=U,this.messageService=b,this.productDialog=!1,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.products=[],this.product={},this.selectedProducts=[],this.submitted=!1,this.cols=[],this.statuses=[],this.dueP_flg=!1,this.rowsPerPageOptions=[5,10,20],this.spinner=!1,this.PaidtransDtls=[],this.DuetransDtls=[],this.showPaidBill=!1,this.showDueBill=!1,this.BalanceAmount=0,this.dueAfterPayment=0}ngOnInit(){const r=new Date,n=r.getDate(),a=r.getMonth()+1,T=r.getFullYear();this.payment_Dt=`${n<10?`0${n}`:n}/${a<10?`0${a}`:a}/${T}`,this.productService.getProducts().then(P=>this.products=P),this.cols=[{field:"billing_id",header:"billing_id"},{field:"payment_flag",header:"payment_flag"},{field:"transaction_date",header:"transaction_date"},{field:"amount",header:"amount"}],this.statuses=[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}],this.getCustomerTrans()}openNew(){this.product={},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.deleteProductsDialog=!0}editProduct(r){this.productDialog=!0}deleteProduct(r){this.deleteProductDialog=!0,this.product={...r}}confirmDeleteSelected(){this.deleteProductsDialog=!1,this.products=this.products.filter(r=>!this.selectedProducts.includes(r)),this.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3}),this.selectedProducts=[]}confirmDelete(){this.deleteProductDialog=!1,this.products=this.products.filter(r=>r.id!==this.product.id),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.product={}}hideDialog(){this.productDialog=!1,this.submitted=!1}saveProduct(){this.submitted=!0;const n={customer_id:this.custDtls.id,amount:this.depositAmount};this.spinner=!0;const a=this.api.baseUrl,T=localStorage.getItem("token"),U=(new v.WM).set("Authorization",`Bearer ${T}`);this.http.post(a+"/customer/customer_deposit",n,{headers:U}).subscribe(b=>{console.log(b),this.spinner=!1,this.messageService.add({severity:"success",summary:"Successfully",detail:"Amount Deposit",life:3e3}),this.hideDialog(),this.dueAfterPayment=+this.BalanceAmount-+this.depositAmount,this.dueP_flg=!0},b=>{"401"==b.status&&this.router.navigate(["/"]),console.log(b.status),this.spinner=!1,console.error(b),this.hideDialog(),this.messageService.add({severity:"error",summary:"Error",detail:"While Amount Deposit",life:3e3})})}findIndexById(r){let n=-1;for(let a=0;a<this.products.length;a++)if(this.products[a].id===r){n=a;break}return n}createId(){let r="";for(let a=0;a<5;a++)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return r}onGlobalFilter(r,n){r.filterGlobal(n.target.value,"contains")}getCustomerTrans(){this.dueAmt=0,this.advAmt=0;const n={id:this.productService.cust_id};this.spinner=!0;const a=this.api.baseUrl,T=localStorage.getItem("token"),U=(new v.WM).set("Authorization",`Bearer ${T}`);this.http.post(a+"/customer/customer_trans",n,{headers:U}).subscribe(b=>{console.log(b),this.custData=b,this.custDtls=this.custData.data.personal_details,this.spinner=!1;for(let P=0;P<this.custData.data.trans_details.length;P++)"P"==this.custData.data.trans_details[P].payment_flag?this.PaidtransDtls.push(this.custData.data.trans_details[P]):(this.DuetransDtls.push(this.custData.data.trans_details[P]),"D"==this.custData.data.trans_details[P].payment_flag?this.dueAmt+=Number(this.custData.data.trans_details[P].amount):this.advAmt+=Number(this.custData.data.trans_details[P].amount));this.BalanceAmount=Number(Number(this.dueAmt)-Number(this.advAmt)),this.messageService.add({severity:"success",summary:"Success",detail:"Get Customer",life:3e3})},b=>{"401"==b.status&&this.router.navigate(["/"]),console.log(b.status),this.spinner=!1,console.error(b)})}ShowPaid(){this.showPaidBill=!0,this.showDueBill=!1}ShowDue(){this.showPaidBill=!1,this.showDueBill=!0}showBill(r){this.productService.billing_id=0,this.productService.billing_id=r.billing_id,this.ref=this.dialogService.open(l.u,{header:"Full Billing Details",data:{id:r.billing_id},width:"70%",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!0}),this.ref.onClose.subscribe(n=>{n&&this.messageService.add({severity:"info",summary:"Product Selected",detail:n.name})}),this.ref.onMaximize.subscribe(n=>{this.messageService.add({severity:"info",summary:"Maximized",detail:`maximized: ${n.maximized}`})})}}return(o=u).\u0275fac=function(r){return new(r||o)(t.Y36(A.F0),t.Y36(_.xA),t.Y36(v.eN),t.Y36(c.s),t.Y36(f.M),t.Y36(e.ez))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],features:[t._Bn([e.ez])],decls:85,vars:30,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange",4,"ngIf"],["header","Deposit amount into the customer account",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"col-12",3,"hidden"],["id","bill2","hidden","",1,"card"],[1,"container"],[1,"row"],[1,"col-xs-12"],[1,"container2"],[1,"image"],["src","./assets/demo/images/billing/comp_logo.jpg",1,"paid"],[1,"text"],[2,"margin-left","4%"],[2,"width","20px !important"],["barcodeSVG",""],[1,"text-right",2,"background-color","beige","width","100%","border-top","5px solid burlywood","padding-right","5px"],[1,"row",2,"margin-left","4%"],[1,"col-xs-12","text-right"],[1,"col-xs-6"],[1,"field","col-12","md:col-12"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"card","flex","justify-content-center"],["dt2",""],["pTemplate","header"],["hdd",""],[1,"col-xs-6","text-right"],[1,"flex","justify-content-center"],[1,"field","col-12","md:col-2"],["pButton","","pRipple","","printSectionId","bill2","ngxPrint","","label","Print","icon","pi pi-print",1,"p-button-primary",3,"useExistingCss"],["class","loader",4,"ngIf"],["class","overlay",4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","label","Adjust Amount","icon","pi pi-plus",1,"p-button-primary","mr-2",3,"click"],["pButton","","pRipple","","label","Show Paid Bill","icon","pi pi-eye",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Show Due Bill","icon","pi pi-eye",1,"p-button-danger","mr-2",3,"click"],[1,"m-0",2,"color","rgb(209, 7, 7)"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","body"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],["pSortableColumn","billing_id"],["field","billing_id"],["pSortableColumn","payment_flag",2,"text-align","center"],["pSortableColumn","transaction_date"],["pSortableColumn","amount"],[2,"text-align","center"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"color","rgb(218, 10, 10)"],[2,"color","rgb(6, 151, 66)"],[2,"color","rgb(212, 191, 7)"],["pButton","","pRipple","","icon","pi pi-eye",1,"p-button-rounded","p-button-primary","mr-2",3,"click"],["dt1",""],[1,"field"],["for","name"],["type","text","pInputText","","id","name","disabled","",3,"ngModel","ngModelChange"],["required","","autofocus","","mode","currency","inputId","currency-india","currency","INR","currencyDisplay","code","locale","en-IN",3,"ngModel","ngClass","ngModelChange"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"],[2,"background-color","rgb(200, 195, 188)"],[1,"text-left",2,"padding-left","2%"],[1,"text-right",2,"padding-right","2%"],[1,"text-left"],[1,"text-right"],[1,"loader"],[1,"overlay"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"p-toast"),t.TgZ(4,"p-toolbar",3),t.YNc(5,Z,8,5,"ng-template",4),t.qZA(),t.YNc(6,L,5,11,"p-table",5),t.YNc(7,z,5,11,"p-table",5),t.qZA(),t.TgZ(8,"p-dialog",6),t.NdJ("visibleChange",function(T){return n.productDialog=T}),t.YNc(9,X,8,5,"ng-template",7),t.YNc(10,tt,2,0,"ng-template",8),t.qZA(),t.TgZ(11,"p-dialog",9),t.NdJ("visibleChange",function(T){return n.deleteProductDialog=T}),t.TgZ(12,"div",10),t._UZ(13,"i",11),t.YNc(14,et,5,1,"span",12),t.qZA(),t.YNc(15,nt,2,0,"ng-template",8),t.qZA(),t.TgZ(16,"p-dialog",9),t.NdJ("visibleChange",function(T){return n.deleteProductsDialog=T}),t.TgZ(17,"div",10),t._UZ(18,"i",11),t.TgZ(19,"span"),t._uU(20,"Are you sure you want to delete selected products?"),t.qZA()(),t.YNc(21,it,2,0,"ng-template",8),t.qZA()(),t.TgZ(22,"div",13)(23,"div",14)(24,"div",15)(25,"div",16)(26,"div",17)(27,"div",18)(28,"div",19),t._UZ(29,"img",20),t.qZA(),t.TgZ(30,"div",21)(31,"h4",22),t._uU(32,"Shridharpur, West Bengal 721632, India, West Bengal,"),t._UZ(33,"br"),t._uU(34," Mobile: 8535999129"),t.qZA()(),t.TgZ(35,"div",23),t.O4$(),t._UZ(36,"svg",null,24),t.qZA()(),t.kcU(),t._UZ(38,"div",25),t.TgZ(39,"div",26)(40,"div",27),t._UZ(41,"br"),t.TgZ(42,"strong"),t._uU(43),t.qZA()(),t.TgZ(44,"div",28)(45,"p")(46,"strong"),t._uU(47,"Customer Name: "),t.qZA(),t._uU(48),t._UZ(49,"br"),t.TgZ(50,"strong"),t._uU(51,"Mobile Number: "),t.qZA(),t._uU(52),t._UZ(53,"br"),t.TgZ(54,"strong"),t._uU(55,"Address: "),t.qZA(),t._uU(56),t._UZ(57,"br"),t.qZA()()()()(),t.TgZ(58,"div",16)(59,"div",29)(60,"div",30)(61,"div",31)(62,"h3",32)(63,"strong"),t._uU(64,"Payment Receipt"),t.qZA()()(),t.TgZ(65,"p-table",null,33),t.YNc(67,ot,7,0,"ng-template",34,35,t.W1O),t.YNc(69,lt,12,8,"ng-template",8),t.qZA(),t.TgZ(70,"div",16)(71,"div",36),t._UZ(72,"br"),t.TgZ(73,"strong"),t._uU(74,"Total Due:"),t.qZA(),t.TgZ(75,"b"),t._uU(76),t.ALo(77,"currency"),t.qZA(),t._UZ(78,"br")(79,"br"),t.qZA()()()()()()(),t.TgZ(80,"div",37)(81,"div",38),t._UZ(82,"button",39),t.qZA()()()(),t.YNc(83,rt,6,0,"div",40),t.YNc(84,st,1,0,"div",41)),2&r&&(t.xp6(6),t.Q6J("ngIf",n.showPaidBill),t.xp6(1),t.Q6J("ngIf",n.showDueBill),t.xp6(1),t.Akn(t.DdM(27,at)),t.Q6J("visible",n.productDialog)("modal",!0),t.xp6(3),t.Akn(t.DdM(28,R)),t.Q6J("visible",n.deleteProductDialog)("modal",!0),t.xp6(3),t.Q6J("ngIf",n.product),t.xp6(2),t.Akn(t.DdM(29,R)),t.Q6J("visible",n.deleteProductsDialog)("modal",!0),t.xp6(6),t.Q6J("hidden",!n.dueP_flg),t.xp6(21),t.hij("Date: ",n.payment_Dt,""),t.xp6(5),t.Oqu(n.custDtls.name),t.xp6(4),t.Oqu(n.custDtls.mobile_no),t.xp6(4),t.Oqu(n.custDtls.adress),t.xp6(20),t.Oqu(t.xi3(77,24,n.dueAfterPayment,"INR")),t.xp6(6),t.Q6J("useExistingCss",!0),t.xp6(1),t.Q6J("ngIf",n.spinner),t.xp6(1),t.Q6J("ngIf",n.spinner))},dependencies:[C.mk,C.O5,D.iA,e.jx,D.lQ,D.fz,O.Hq,y.Fj,y.JJ,y.Q7,y.On,E.H,g.FN,h.o,p.o,d.Rn,m.V,x.I,C.H9],styles:["#Receipt[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}#Receipt[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #Receipt[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}#Receipt[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}@media print{#bill[_ngcontent-%COMP%]{width:50%!important;margin-right:50%!important}}.invoice-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoice-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:inline-block}.table1[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-top:none}.table1[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-bottom:none}.table1[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .thick-line[_ngcontent-%COMP%]{border-top:2px solid}.table1[_ngcontent-%COMP%]{width:100%}.paid[_ngcontent-%COMP%]{left:10%;height:70px}.container2[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.text[_ngcontent-%COMP%]{font-size:20px;padding-left:20px}"]}),u})()},253:(q,M,s)=>{s.d(M,{u:()=>h});var e=s(4769),v=s(9862),l=s(5219),t=s(8814),A=s(981),_=s(6814),c=s(9552),f=s(707),C=s(9920);function D(p,d){1&p&&(e.TgZ(0,"tr",33)(1,"td",34)(2,"strong"),e._uU(3,"ITEMS"),e.qZA()(),e.TgZ(4,"td",34)(5,"strong"),e._uU(6,"Serial No."),e.qZA()(),e.TgZ(7,"td",35)(8,"strong"),e._uU(9,"QTY."),e.qZA()(),e.TgZ(10,"td",35)(11,"strong"),e._uU(12,"Warranty upto"),e.qZA()(),e.TgZ(13,"td",36)(14,"strong"),e._uU(15,"Price"),e.qZA()()())}function O(p,d){if(1&p&&(e.TgZ(0,"tr")(1,"td",37),e._uU(2),e.qZA(),e.TgZ(3,"td",37),e._uU(4),e.qZA(),e.TgZ(5,"td",35),e._uU(6),e.qZA(),e.TgZ(7,"td",35),e._uU(8),e.qZA(),e.TgZ(9,"td",38),e._uU(10),e.ALo(11,"currency"),e.qZA()()),2&p){const m=d.$implicit;e.xp6(2),e.AsE("",m.product_name,"- ",m.model_name,""),e.xp6(2),e.hij("",m.serial_numbers," "),e.xp6(2),e.hij("",m.quantity,"PCS"),e.xp6(2),e.Oqu(m.sels_warranty),e.xp6(2),e.Oqu(e.xi3(11,6,m.sales_rate,"INR"))}}function y(p,d){if(1&p&&(e.TgZ(0,"tr",39)(1,"td",40),e._uU(2,"SUBTOTAL"),e.qZA(),e.TgZ(3,"td",35),e._uU(4),e.qZA(),e.TgZ(5,"td",41),e._uU(6),e.ALo(7,"currency"),e.qZA()()),2&p){const m=e.oxw();e.xp6(4),e.hij("",m.totQTY,"PCS"),e.xp6(2),e.Oqu(e.xi3(7,2,m.tot_price,"INR"))}}function E(p,d){1&p&&(e.TgZ(0,"div",42),e._UZ(1,"div")(2,"div")(3,"div")(4,"div")(5,"div"),e.qZA())}function g(p,d){1&p&&e._UZ(0,"div",43)}let h=(()=>{var p;class d{constructor(x,Z,w,I,N){this.http=x,this.messageService=Z,this.confirmationService=w,this.api=I,this.bill=N,this.ListData=[],this.FinalData=[],this.spinner=!1,this.tot_price=0,this.Due=!1,this.QTY=0,this.totQTY=0,this.id=this.bill.billing_id}ngOnInit(){this.getBill(this.id)}getBill(x){}setWIM(x,Z){}ngAfterViewInit(){}callPrint(x){}generateBarcode(){}}return(p=d).\u0275fac=function(x){return new(x||p)(e.Y36(v.eN),e.Y36(l.ez),e.Y36(l.YP),e.Y36(t.s),e.Y36(A.M))},p.\u0275cmp=e.Xpm({type:p,selectors:[["ng-component"]],decls:93,vars:13,consts:[[1,"grid"],[1,"col-12"],["id","bill",1,"card"],[1,"container"],[1,"row"],[1,"col-xs-12"],[1,"container2"],[1,"image"],["src","./assets/demo/images/billing/comp_logo.jpg",1,"paid"],[1,"text"],[2,"margin-left","4%"],[2,"width","20px !important"],["barcodeSVG",""],[1,"text-right",2,"background-color","beige","width","100%","border-top","5px solid burlywood","padding-right","5px"],[1,"row",2,"margin-left","4%"],[1,"col-xs-6"],[1,"field","col-12","md:col-12"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"card","flex","justify-content-center"],[3,"value"],["dt2",""],["pTemplate","header"],["hdd",""],["pTemplate","body"],["pTemplate","footer"],[1,"col-xs-6","text-right",2,"font-size","larger"],[1,"col-xs-6","text-left"],[1,"flex","justify-content-center"],[1,"field","col-12","md:col-2"],["pButton","","pRipple","","printSectionId","bill","ngxPrint","","label","Print","icon","pi pi-print",1,"p-button-primary",3,"useExistingCss"],["class","loader",4,"ngIf"],["class","overlay",4,"ngIf"],[2,"background-color","rgb(225, 203, 174)"],[1,"text-left",2,"padding-left","2%"],[1,"text-center"],[1,"text-right",2,"padding-right","2%"],[1,"text-left"],[1,"text-right"],[2,"border-top","3px solid #ce7843  important","border-bottom","3px solid #ce7843"],["colspan","2",1,"text-left"],["colspan","2",1,"text-right"],[1,"loader"],[1,"overlay"]],template:function(x,Z){1&x&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e._UZ(8,"img",8),e.qZA(),e.TgZ(9,"div",9)(10,"h4",10),e._uU(11,"Shridharpur, West Bengal 721632,"),e._UZ(12,"br"),e._uU(13," India,West Bengal,"),e._UZ(14,"br"),e._uU(15," Mobile: 8535999129"),e.qZA()(),e.TgZ(16,"div",11),e.O4$(),e._UZ(17,"svg",null,12),e.qZA()(),e.kcU(),e.TgZ(19,"div",13)(20,"span")(21,"strong"),e._uU(22,"Invoice Id:"),e.qZA(),e._uU(23),e._UZ(24,"br"),e.qZA(),e.TgZ(25,"span")(26,"strong"),e._uU(27,"Invoice Date:"),e.qZA(),e._uU(28),e.qZA()(),e.TgZ(29,"div",14)(30,"div",15)(31,"address")(32,"strong"),e._uU(33,"Billed To:"),e.qZA(),e._UZ(34,"br"),e.TgZ(35,"strong"),e._uU(36,"Customer Name: "),e.qZA(),e._uU(37),e._UZ(38,"br"),e.TgZ(39,"strong"),e._uU(40,"Mobile Number: "),e.qZA(),e._uU(41),e._UZ(42,"br"),e.TgZ(43,"strong"),e._uU(44,"Address: "),e.qZA(),e._uU(45),e._UZ(46,"br"),e.qZA()()()()(),e.TgZ(47,"div",4)(48,"div",16)(49,"div",17)(50,"div",18)(51,"h3",19)(52,"strong"),e._uU(53,"Purchase summary"),e.qZA()()(),e.TgZ(54,"p-table",20,21),e.YNc(56,D,16,0,"ng-template",22,23,e.W1O),e.YNc(58,O,12,9,"ng-template",24),e.YNc(59,y,8,5,"ng-template",25),e.qZA(),e.TgZ(60,"div",4)(61,"div",26),e._UZ(62,"br"),e.TgZ(63,"strong"),e._uU(64,"TOTAL:"),e.qZA(),e.TgZ(65,"b"),e._uU(66),e.ALo(67,"currency"),e.qZA(),e._UZ(68,"br")(69,"br"),e.qZA(),e.TgZ(70,"div",27),e._UZ(71,"br"),e.TgZ(72,"strong"),e._uU(73,"TERMS AND CONDITIONS"),e.qZA(),e._UZ(74,"br"),e.TgZ(75,"p"),e._uU(76," 1. Goods once sold will not be taken back or exchanged"),e._UZ(77,"br"),e._uU(78," 2. Warranty is not liable if the goods are Burnt,"),e._UZ(79,"br"),e._uU(80," Broken, Lequid Damage or missing warranty"),e._UZ(81,"br"),e._uU(82," sticker."),e._UZ(83,"br"),e._uU(84,' 3. Subject to "West Bengal" jurisdiction only.'),e.qZA()(),e.TgZ(85,"div",26)(86,"strong"),e._uU(87,"Authorised Signatory"),e.qZA()()()()()()()(),e.TgZ(88,"div",28)(89,"div",29),e._UZ(90,"button",30),e.qZA()()()(),e.YNc(91,E,6,0,"div",31),e.YNc(92,g,1,0,"div",32)),2&x&&(e.xp6(23),e.hij("\xa0\xa0 ",Z.ListData[0].billing_id,""),e.xp6(5),e.hij(" ",Z.ListData[0].billingdate," "),e.xp6(9),e.Oqu(Z.CustomerDtls.name),e.xp6(4),e.Oqu(Z.CustomerDtls.mobile_no),e.xp6(4),e.Oqu(Z.CustomerDtls.adress),e.xp6(9),e.Q6J("value",Z.FinalData),e.xp6(12),e.Oqu(e.xi3(67,10,Z.tot_price,"INR")),e.xp6(24),e.Q6J("useExistingCss",!0),e.xp6(1),e.Q6J("ngIf",Z.spinner),e.xp6(1),e.Q6J("ngIf",Z.spinner))},dependencies:[_.O5,c.iA,l.jx,f.Hq,C.I,_.H9],styles:[".invoice-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoice-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:inline-block}.table1[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-top:none}.table1[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-bottom:none}.table1[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .thick-line[_ngcontent-%COMP%]{border-top:2px solid}.table1[_ngcontent-%COMP%]{width:100%}.paid[_ngcontent-%COMP%]{left:31%;height:120px}.container2[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.text[_ngcontent-%COMP%]{font-size:20px;padding-left:20px}#bill.container[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%}"]}),d})()},9920:(q,M,s)=>{s.d(M,{I:()=>v,K:()=>l});var e=s(4769);let v=(()=>{class t{constructor(){this._printStyle=[],this.previewOnly=!1,this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(_){for(let c in _)_.hasOwnProperty(c)&&this._printStyle.push((c+JSON.stringify(_[c])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(_){let c=function(f){return`<link rel="stylesheet" type="text/css" href="${f}">`};if(-1!==_.indexOf(",")){const f=_.split(",");for(let C of f)this._styleSheetFile=this._styleSheetFile+c(C)}else this._styleSheetFile=c(_)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(_){const c=[],f=document.getElementsByTagName(_);for(let C=0;C<f.length;C++)c.push(f[C].outerHTML);return c.join("\r\n")}getFormData(_){for(var c=0;c<_.length;c++)_[c].defaultValue=_[c].value,_[c].checked&&(_[c].defaultChecked=!0)}getHtmlContents(){let _=document.getElementById(this.printSectionId),c=_.getElementsByTagName("input");this.getFormData(c);let f=_.getElementsByTagName("textarea");return this.getFormData(f),_.innerHTML}print(){let _,c,f="",C="";const D=this.getElementTag("base");this.useExistingCss&&(f=this.getElementTag("style"),C=this.getElementTag("link")),_=this.getHtmlContents(),c=window.open("","_blank","top=0,left=0,height=auto,width=auto"),c.document.open(),c.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${D}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${f}\n          ${C}\n        </head>\n        <body>\n          ${_}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              ${this.previewOnly?"":`setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});`}\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),c.document.close()}}return t.\u0275fac=function(_){return new(_||t)},t.\u0275dir=e.lG2({type:t,selectors:[["button","ngxPrint",""]],hostBindings:function(_,c){1&_&&e.NdJ("click",function(){return c.print()})},inputs:{previewOnly:"previewOnly",printSectionId:"printSectionId",printTitle:"printTitle",useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile"}}),t})(),l=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})()},6340:(q,M,s)=>{s.d(M,{V:()=>E,o:()=>y});var e=s(1180),v=s(6814),l=s(4769),t=s(5219);function A(g,h){1&g&&l.GkF(0)}function _(g,h){if(1&g&&(l.TgZ(0,"div",4),l.YNc(1,A,1,0,"ng-container",5),l.qZA()),2&g){const p=l.oxw();l.xp6(1),l.Q6J("ngTemplateOutlet",p.startTemplate)}}function c(g,h){1&g&&l.GkF(0)}function f(g,h){if(1&g&&(l.TgZ(0,"div",6),l.YNc(1,c,1,0,"ng-container",5),l.qZA()),2&g){const p=l.oxw();l.xp6(1),l.Q6J("ngTemplateOutlet",p.centerTemplate)}}function C(g,h){1&g&&l.GkF(0)}function D(g,h){if(1&g&&(l.TgZ(0,"div",7),l.YNc(1,C,1,0,"ng-container",5),l.qZA()),2&g){const p=l.oxw();l.xp6(1),l.Q6J("ngTemplateOutlet",p.endTemplate)}}const O=["*"];let y=(()=>{var g;class h{constructor(d){(0,e.Z)(this,"el",void 0),(0,e.Z)(this,"style",void 0),(0,e.Z)(this,"styleClass",void 0),(0,e.Z)(this,"templates",void 0),(0,e.Z)(this,"startTemplate",void 0),(0,e.Z)(this,"endTemplate",void 0),(0,e.Z)(this,"centerTemplate",void 0),this.el=d}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(d=>{switch(d.getType()){case"left":this.startTemplate=d.template;break;case"right":this.endTemplate=d.template;break;case"center":this.centerTemplate=d.template}})}}return g=h,(0,e.Z)(h,"\u0275fac",function(d){return new(d||g)(l.Y36(l.SBq))}),(0,e.Z)(h,"\u0275cmp",l.Xpm({type:g,selectors:[["p-toolbar"]],contentQueries:function(d,m,x){if(1&d&&l.Suo(x,t.jx,4),2&d){let Z;l.iGM(Z=l.CRH())&&(m.templates=Z)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:O,decls:5,vars:7,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left p-toolbar-group-start",4,"ngIf"],["class","p-toolbar-group-center",4,"ngIf"],["class","p-toolbar-group-right p-toolbar-group-end",4,"ngIf"],[1,"p-toolbar-group-left","p-toolbar-group-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-center"],[1,"p-toolbar-group-right","p-toolbar-group-end"]],template:function(d,m){1&d&&(l.F$t(),l.TgZ(0,"div",0),l.Hsn(1),l.YNc(2,_,2,1,"div",1),l.YNc(3,f,2,1,"div",2),l.YNc(4,D,2,1,"div",3),l.qZA()),2&d&&(l.Tol(m.styleClass),l.Q6J("ngClass","p-toolbar p-component")("ngStyle",m.style),l.xp6(2),l.Q6J("ngIf",m.startTemplate),l.xp6(1),l.Q6J("ngIf",m.centerTemplate),l.xp6(1),l.Q6J("ngIf",m.endTemplate))},dependencies:[v.mk,v.O5,v.tP,v.PC],styles:[".p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-start,.p-toolbar-group-center,.p-toolbar-group-end,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}\n"],encapsulation:2,changeDetection:0})),h})(),E=(()=>{var g;class h{}return g=h,(0,e.Z)(h,"\u0275fac",function(d){return new(d||g)}),(0,e.Z)(h,"\u0275mod",l.oAB({type:g})),(0,e.Z)(h,"\u0275inj",l.cJS({imports:[v.ez]})),h})()}}]);