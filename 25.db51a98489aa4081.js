"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[25],{25:(P,_,s)=>{s.r(_),s.d(_,{InvalidStateDemo2Module:()=>Y});var d=s(6814),o=s(95),u=s(7327),S=s(6760),C=s(1480),f=s(3965),p=s(9663),c=s(5167),g=s(8062),m=s(4055),D=s(6218),A=s(3714),w=s(1423),x=s(1312),k=s(3557),M=s(9862),y=s(5219),e=s(4769),z=s(6593),Z=s(8814),O=s(4104),T=s(707);const E=["itemInput"];function F(a,h){if(1&a){const v=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(v);const i=e.oxw();return e.KtG(i.downloadPdf())}),e.qZA()}}function W(a,h){1&a&&(e.TgZ(0,"div",18),e._UZ(1,"div")(2,"div")(3,"div")(4,"div")(5,"div"),e.qZA())}function U(a,h){1&a&&e._UZ(0,"div",19)}const B=function(){return{standalone:!0}},N=function(){return{width:"70vw",height:"90vh"}};let J=(()=>{var a;class h{constructor(t,i,r,n,l,b,I,R){this.sanitizer=t,this.router=i,this.renderer=r,this.fb=n,this.http=l,this.messageService=b,this.confirmationService=I,this.api=R,this.filteredCountries=[],this.filteredDealer=[],this.countries=[],this.selectedState=null,this.spinner=!1,this.states=[{name:"Arizona",code:"Arizona"},{name:"California",value:"California"},{name:"Florida",code:"Florida"},{name:"Ohio",code:"Ohio"},{name:"Washington",code:"Washington"}],this.dropdownItems=[{name:"Option 1",code:"Option 1"},{name:"Option 2",code:"Option 2"},{name:"Option 3",code:"Option 3"}],this.cities1=[],this.cities2=[],this.city1=null,this.city2=null,this.modelList=[],this.dealerList=[],this.lastAddedIndex=-1,this.client_id=+localStorage.getItem("c_id"),this.cities=[],this.data1=[],this.showPdfDialog=!1,this.stockIn=this.fb.group({model_id:["",o.kI.required],purchase_rate:["",[o.kI.required]],purchase_by:["",[o.kI.required]],purchase_date:["",[o.kI.required]],warranty_expired:["",[o.kI.required]],cgst_p:["",[o.kI.required]],sgst_p:["",[o.kI.required]],sales_rate:["",[o.kI.required]],sels_warranty:["",[o.kI.required]],sl_no:this.fb.array([])})}ngOnInit(){this.ct=this.stockIn.controls,this.getDevice(),this.pdfSrc=this.sanitizer.bypassSecurityTrustResourceUrl("assets/demo/data/Weather Station API Documentation.pdf")}resetData(){this.stockIn.reset(),this.selectedCountryAdvanced=[],this.company_n=null,this.product_n=null,this.warr_in_month=0;for(let t=0;t<=this.skillsFormArray.length;t++)this.skillsFormArray.removeAt(t)}getDevice(){const t={client_id:this.client_id},i=this.api.baseUrl,r=localStorage.getItem("token"),n=(new M.WM).set("Authorization",`Bearer ${r}`);this.spinner=!0,this.http.post(i+"/client/devices/list",t,{headers:n}).subscribe(l=>{console.log(l),this.spinner=!1,this.data1=l,this.cities=this.data1.data,console.log(this.selectedDealer)},l=>{"401"==l.status&&this.router.navigate(["/"]),console.log(l.status),this.spinner=!1,"401"==l.status&&this.router.navigate(["/"]),console.log(l.status)})}setDevice(){this.deviceId=this.selectedDealer.device_id,this.deviceName=this.selectedDealer.device}getMQTT(){this.selectedDealer?(this.MQTTvalue="",this.MQTTvalue=`WMS/${this.client_id}/${this.deviceId}/${this.deviceName}`):(this.MQTTvalue="",this.messageService.add({severity:"info",summary:"Info Message",detail:"Please Select a Device",life:3e3}))}openPdf(){window.open("assets/demo/data/Weather Station API Documentation.pdf","_blank")}downloadPdf(){const t=document.createElement("a");t.href="assets/demo/data/Weather Station API Documentation.pdf",t.download="Weather Station API Documentation.pdf",t.click()}getDeviceModel(){const t=this.api.baseUrl,i=localStorage.getItem("token"),r=(new M.WM).set("Authorization",`Bearer ${i}`);this.http.get(t+"/master/model_name",{headers:r}).subscribe(n=>{console.log(n),this.modelList=n,this.models=this.modelList.data},n=>{"401"==n.status&&this.router.navigate(["/"]),console.log(n.status),console.error(n)})}getDealer(){const t=this.api.baseUrl,i=localStorage.getItem("token"),r=(new M.WM).set("Authorization",`Bearer ${i}`);this.http.get(t+"/seller/list",{headers:r}).subscribe(n=>{console.log(n),this.dealerList=n,this.dealer=this.dealerList.data},n=>{"401"==n.status&&this.router.navigate(["/"]),console.log(n.status),console.error(n)})}insertStockData(){this.spinner=!0;const t={model_id:this.modelID,purchase_rate:this.ct.purchase_rate.value,purchase_by:this.ct.purchase_by.value,purchase_date:this.formatedDate(this.ct.purchase_date.value),warranty_expired:this.formatedDate(this.ct.warranty_expired.value),cgst_p:this.ct.cgst_p.value,sgst_p:this.ct.sgst_p.value,serial_number:this.ct.sl_no.value,sales_rate:this.ct.sales_rate.value},i=this.api.baseUrl,r=localStorage.getItem("token"),n=(new M.WM).set("Authorization",`Bearer ${r}`);this.http.post(i+"/stock/in",t,{headers:n}).subscribe(l=>{console.log(l),l.status?(this.spinner=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"New Stock Added",life:3e3}),this.resetData()):(this.spinner=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}))},l=>{"401"==l.status&&this.router.navigate(["/"]),console.log(l.status),console.error(l),this.spinner=!1,this.messageService.add({severity:"error",summary:"Error",detail:"From Server Side !!",life:3e3})})}filterCountry(t){const i=[],r=t.query;for(let n=0;n<this.models.length;n++){const l=this.models[n];0==l.model_name.toLowerCase().indexOf(r.toLowerCase())&&i.push(l)}this.filteredCountries=i}filterDealer(t){const i=[],r=t.query;for(let n=0;n<this.cities.length;n++){const l=this.cities[n];0==l.device.toLowerCase().indexOf(r.toLowerCase())&&i.push(l)}this.filteredDealer=i}setWarranty(){this.warr_in_month=this.warr_in_month?this.warr_in_month:0;const t=new Date(this.ct.purchase_date.value);isNaN(t.getTime())?console.error("Invalid date input"):(t.setMonth(t.getMonth()+Number(this.warr_in_month)),this.stockIn.get("warranty_expired").setValue(t))}calculateOutputDate(){}selected(){console.log(this.selectedCountryAdvanced),this.modelID=this.selectedCountryAdvanced.model_id,this.product_n=this.selectedCountryAdvanced.product_name,this.company_n=this.selectedCountryAdvanced.company_name}setDealer(){console.log(this.selectedDealer),this.ct.purchase_by.setValue(this.selectedDealer.id)}get skillsFormArray(){return this.stockIn.get("sl_no")}addSkill(){this.skillsFormArray.push(this.fb.control(""))}removeSkill(t){this.skillsFormArray.removeAt(t)}addItem(t){13===t.keyCode&&(this.addSkill(),this.lastAddedIndex=this.skillsFormArray.length,this.lastAddedIndex=this.skillsFormArray.length-1)}formatedDate(t){const r=new Date(t),I=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`;return console.log(I),I}}return(a=h).\u0275fac=function(t){return new(t||a)(e.Y36(z.H7),e.Y36(k.F0),e.Y36(e.Qsj),e.Y36(o.qu),e.Y36(M.eN),e.Y36(y.ez),e.Y36(y.YP),e.Y36(Z.s))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(E,5),2&t){let r;e.iGM(r=e.CRH())&&(i.itemInput=r.first)}},features:[e._Bn([y.ez,y.YP])],decls:23,vars:16,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["htmlFor","firstname2"],["placeholder","Select a device","field","device",3,"ngModel","ngModelOptions","suggestions","dropdown","ngModelChange","onSelect","completeMethod"],[1,"field","col-12","md:col-2",2,"margin-top","23px"],["label","Get the link","icon","pi pi-check",3,"click"],["rows","2","cols","10","pInputTextarea","",3,"ngModel","ngModelChange"],[1,"field","col-12","md:col-2"],["label","Show API Documentation","icon","pi pi-file-pdf",3,"click"],["header","PDF Viewer",3,"visible","modal","dismissableMask","closeOnEscape","visibleChange"],["width","100%","height","100%",3,"src"],["pTemplate","footer"],["class","loader",4,"ngIf"],["class","overlay",4,"ngIf"],["pButton","","type","button","label","Download PDF","icon","pi pi-download",3,"click"],[1,"loader"],[1,"overlay"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),e._uU(4,"MQTT Topic"),e.qZA(),e.TgZ(5,"div",3)(6,"div",4)(7,"label",5),e._uU(8,"Select a Device"),e.qZA(),e.TgZ(9,"p-autoComplete",6),e.NdJ("ngModelChange",function(n){return i.selectedDealer=n})("onSelect",function(){return i.setDevice()})("completeMethod",function(n){return i.filterDealer(n)}),e.qZA()(),e.TgZ(10,"div",7)(11,"p-button",8),e.NdJ("click",function(){return i.getMQTT()}),e.qZA()(),e.TgZ(12,"div",4)(13,"textarea",9),e.NdJ("ngModelChange",function(n){return i.MQTTvalue=n}),e._uU(14,"                    "),e.qZA()(),e.TgZ(15,"div",10)(16,"p-button",11),e.NdJ("click",function(){return i.showPdfDialog=!0}),e.qZA()()()()()(),e.TgZ(17,"p-dialog",12),e.NdJ("visibleChange",function(n){return i.showPdfDialog=n}),e._UZ(18,"iframe",13),e.YNc(19,F,1,0,"ng-template",14),e.qZA(),e._UZ(20,"p-toast"),e.YNc(21,W,6,0,"div",15),e.YNc(22,U,1,0,"div",16)),2&t&&(e.xp6(9),e.Q6J("ngModel",i.selectedDealer)("ngModelOptions",e.DdM(14,B))("suggestions",i.filteredDealer)("dropdown",!0),e.xp6(4),e.Q6J("ngModel",i.MQTTvalue),e.xp6(4),e.Akn(e.DdM(15,N)),e.Q6J("visible",i.showPdfDialog)("modal",!0)("dismissableMask",!0)("closeOnEscape",!0),e.xp6(1),e.Q6J("src",i.pdfSrc,e.uOi),e.xp6(3),e.Q6J("ngIf",i.spinner),e.xp6(1),e.Q6J("ngIf",i.spinner))},dependencies:[O.FN,y.jx,x.V,d.O5,o.Fj,o.JJ,o.On,u.Qc,T.Hq,T.zx,D.g],styles:[".card[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 3px 10px #0000004d;position:relative;z-index:1;top:0}.cover-bg[_ngcontent-%COMP%]{width:100%;height:120px;background:#b4e2d6;background:url(sky3.f39500d8155a479d.jpg) no-repeat center;background-size:260%;border-radius:5px 5px 0 0}.user-info[_ngcontent-%COMP%]{padding-left:16px;padding-top:10px}.user-info-wrap[_ngcontent-%COMP%]{margin-top:-35px;display:flex;padding:0 20px}.user-name[_ngcontent-%COMP%]{font-weight:500;font-size:20px;font-weight:400;color:#fff;margin-top:-5px}.user-title[_ngcontent-%COMP%]{font-size:16px;font-weight:200;color:#8b8784;display:block;margin-top:10px}.user-photo[_ngcontent-%COMP%]{height:60px;width:60px;border-radius:50%;border:4px solid #ffffff;background:#fff url(avatar.cc412e95d400ebae.png) no-repeat center;background-size:cover;box-shadow:0 0 4px #0000004d}.user-bio[_ngcontent-%COMP%]{padding:20px}.user-bio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:300;margin-bottom:40px}.social[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.social-icons[_ngcontent-%COMP%]{display:flex}.social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:40px;color:#a9a9a8;margin-right:13px;transition:all .3s ease-in-out 0s}.social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{height:32px}.social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#47a398}.social[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0}"]}),h})(),L=(()=>{var a;class h{}return(a=h).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[k.Bz.forChild([{path:"",component:J}]),k.Bz]}),h})();var Q=s(5359),j=s(7680);let Y=(()=>{var a;class h{}return(a=h).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[y.ez,y.YP],imports:[Q.x,O.EV,j.L,x.S,d.ez,o.u5,L,u.WN,S._8,C.Gg,f.kW,p.zz,c.L$,g.XH,m.q4,w.gz,D.A,A.j,o.UX]}),h})()},5359:(P,_,s)=>{s.d(_,{i:()=>C,x:()=>f});var d=s(1180),o=s(4769),u=s(6814);const S=["*"];let C=(()=>{var p;class c{constructor(){(0,d.Z)(this,"style",void 0),(0,d.Z)(this,"styleClass",void 0),(0,d.Z)(this,"layout","horizontal"),(0,d.Z)(this,"type","solid"),(0,d.Z)(this,"align",void 0)}containerClass(){return{"p-divider p-component":!0,"p-divider-horizontal":"horizontal"===this.layout,"p-divider-vertical":"vertical"===this.layout,"p-divider-solid":"solid"===this.type,"p-divider-dashed":"dashed"===this.type,"p-divider-dotted":"dotted"===this.type,"p-divider-left":"horizontal"===this.layout&&(!this.align||"left"===this.align),"p-divider-center":"horizontal"===this.layout&&"center"===this.align||"vertical"===this.layout&&(!this.align||"center"===this.align),"p-divider-right":"horizontal"===this.layout&&"right"===this.align,"p-divider-top":"vertical"===this.layout&&"top"===this.align,"p-divider-bottom":"vertical"===this.layout&&"bottom"===this.align}}}return p=c,(0,d.Z)(c,"\u0275fac",function(m){return new(m||p)}),(0,d.Z)(c,"\u0275cmp",o.Xpm({type:p,selectors:[["p-divider"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",layout:"layout",type:"type",align:"align"},ngContentSelectors:S,decls:3,vars:4,consts:[["role","separator",3,"ngClass","ngStyle"],[1,"p-divider-content"]],template:function(m,D){1&m&&(o.F$t(),o.TgZ(0,"div",0)(1,"div",1),o.Hsn(2),o.qZA()()),2&m&&(o.Tol(D.styleClass),o.Q6J("ngClass",D.containerClass())("ngStyle",D.style))},dependencies:[u.mk,u.PC],styles:['.p-divider-horizontal{display:flex;width:100%;position:relative;align-items:center}.p-divider-horizontal:before{position:absolute;display:block;top:50%;left:0;width:100%;content:""}.p-divider-horizontal.p-divider-left{justify-content:flex-start}.p-divider-horizontal.p-divider-right{justify-content:flex-end}.p-divider-horizontal.p-divider-center{justify-content:center}.p-divider-content{z-index:1}.p-divider-vertical{min-height:100%;margin:0 1rem;display:flex;position:relative;justify-content:center}.p-divider-vertical:before{position:absolute;display:block;top:0;left:50%;height:100%;content:""}.p-divider-vertical.p-divider-top{align-items:flex-start}.p-divider-vertical.p-divider-center{align-items:center}.p-divider-vertical.p-divider-bottom{align-items:flex-end}.p-divider-solid.p-divider-horizontal:before{border-top-style:solid}.p-divider-solid.p-divider-vertical:before{border-left-style:solid}.p-divider-dashed.p-divider-horizontal:before{border-top-style:dashed}.p-divider-dashed.p-divider-vertical:before{border-left-style:dashed}.p-divider-dotted.p-divider-horizontal:before{border-top-style:dotted}.p-divider-dotted.p-divider-horizontal:before{border-left-style:dotted}\n'],encapsulation:2,changeDetection:0})),c})(),f=(()=>{var p;class c{}return p=c,(0,d.Z)(c,"\u0275fac",function(m){return new(m||p)}),(0,d.Z)(c,"\u0275mod",o.oAB({type:p})),(0,d.Z)(c,"\u0275inj",o.cJS({imports:[u.ez]})),c})()},7680:(P,_,s)=>{s.d(_,{L:()=>C});var d=s(1180),o=s(6814),u=s(4769);let C=(()=>{var f;class p{}return f=p,(0,d.Z)(p,"\u0275fac",function(g){return new(g||f)}),(0,d.Z)(p,"\u0275mod",u.oAB({type:f})),(0,d.Z)(p,"\u0275inj",u.cJS({imports:[o.ez]})),p})()}}]);