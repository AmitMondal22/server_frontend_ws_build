"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[5602],{5602:(b,_,i)=>{i.r(_),i.d(_,{FormLayoutDemoModule:()=>x});var d=i(6814),r=i(95),m=i(3557),y=i(9862),g=i(5219),e=i(4769),p=i(8814),l=i(4104),c=i(7327),h=i(6760),C=i(707),A=i(3714),T=i(5167);const S=["itemInput"];function k(a,v){1&a&&(e.TgZ(0,"div",29),e._UZ(1,"div")(2,"div")(3,"div")(4,"div")(5,"div"),e.qZA())}function F(a,v){1&a&&e._UZ(0,"div",30)}const D=function(){return{standalone:!0}};let I=(()=>{var a;class v{constructor(n,t,s,o,u,M,Z){this.router=n,this.renderer=t,this.fb=s,this.http=o,this.messageService=u,this.confirmationService=M,this.api=Z,this.filteredCountries=[],this.filteredDealer=[],this.countries=[],this.selectedState=null,this.spinner=!1,this.states=[{name:"Arizona",code:"Arizona"},{name:"California",value:"California"},{name:"Florida",code:"Florida"},{name:"Ohio",code:"Ohio"},{name:"Washington",code:"Washington"}],this.dropdownItems=[{name:"Option 1",code:"Option 1"},{name:"Option 2",code:"Option 2"},{name:"Option 3",code:"Option 3"}],this.cities1=[],this.cities2=[],this.city1=null,this.city2=null,this.modelList=[],this.dealerList=[],this.lastAddedIndex=-1,this.stockIn=this.fb.group({model_id:["",r.kI.required],purchase_rate:["",[r.kI.required]],purchase_by:["",[r.kI.required]],purchase_date:["",[r.kI.required]],warranty_expired:["",[r.kI.required]],cgst_p:["",[r.kI.required]],sgst_p:["",[r.kI.required]],sales_rate:["",[r.kI.required]],sels_warranty:["",[r.kI.required]],sl_no:this.fb.array([])})}ngOnInit(){this.ct=this.stockIn.controls,this.getDeviceModel(),this.addSkill(),this.getDealer()}resetData(){this.stockIn.reset(),this.selectedCountryAdvanced=[],this.company_n=null,this.product_n=null,this.warr_in_month=0;for(let n=0;n<=this.skillsFormArray.length;n++)this.skillsFormArray.removeAt(n)}getDeviceModel(){const n=this.api.baseUrl,t=localStorage.getItem("token"),s=(new y.WM).set("Authorization",`Bearer ${t}`);this.http.get(n+"/master/model_name",{headers:s}).subscribe(o=>{console.log(o),this.modelList=o,this.models=this.modelList.data},o=>{"401"==o.status&&this.router.navigate(["/"]),console.log(o.status),console.error(o)})}getDealer(){const n=this.api.baseUrl,t=localStorage.getItem("token"),s=(new y.WM).set("Authorization",`Bearer ${t}`);this.http.get(n+"/seller/list",{headers:s}).subscribe(o=>{console.log(o),this.dealerList=o,this.dealer=this.dealerList.data},o=>{"401"==o.status&&this.router.navigate(["/"]),console.log(o.status),console.error(o)})}insertStockData(){this.spinner=!0;const n={model_id:this.modelID,purchase_rate:this.ct.purchase_rate.value,purchase_by:this.ct.purchase_by.value,purchase_date:this.formatedDate(this.ct.purchase_date.value),warranty_expired:this.formatedDate(this.ct.warranty_expired.value),cgst_p:this.ct.cgst_p.value,sgst_p:this.ct.sgst_p.value,serial_number:this.ct.sl_no.value,sales_rate:this.ct.sales_rate.value},t=this.api.baseUrl,s=localStorage.getItem("token"),o=(new y.WM).set("Authorization",`Bearer ${s}`);this.http.post(t+"/stock/in",n,{headers:o}).subscribe(u=>{console.log(u),u.status?(this.spinner=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"New Stock Added",life:3e3}),this.resetData()):(this.spinner=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}))},u=>{"401"==u.status&&this.router.navigate(["/"]),console.log(u.status),console.error(u),this.spinner=!1,this.messageService.add({severity:"error",summary:"Error",detail:"From Server Side !!",life:3e3})})}filterCountry(n){const t=[],s=n.query;for(let o=0;o<this.models.length;o++){const u=this.models[o];0==u.model_name.toLowerCase().indexOf(s.toLowerCase())&&t.push(u)}this.filteredCountries=t}filterDealer(n){const t=[],s=n.query;for(let o=0;o<this.dealer.length;o++){const u=this.dealer[o];0==u.shop_name.toLowerCase().indexOf(s.toLowerCase())&&t.push(u)}this.filteredDealer=t}setWarranty(){this.warr_in_month=this.warr_in_month?this.warr_in_month:0;const n=new Date(this.ct.purchase_date.value);isNaN(n.getTime())?console.error("Invalid date input"):(n.setMonth(n.getMonth()+Number(this.warr_in_month)),this.stockIn.get("warranty_expired").setValue(n))}calculateOutputDate(){}selected(){console.log(this.selectedCountryAdvanced),this.modelID=this.selectedCountryAdvanced.model_id,this.product_n=this.selectedCountryAdvanced.product_name,this.company_n=this.selectedCountryAdvanced.company_name}setDealer(){console.log(this.selectedDealer),this.ct.purchase_by.setValue(this.selectedDealer.id)}get skillsFormArray(){return this.stockIn.get("sl_no")}addSkill(){this.skillsFormArray.push(this.fb.control(""))}removeSkill(n){this.skillsFormArray.removeAt(n)}addItem(n){13===n.keyCode&&(this.addSkill(),this.lastAddedIndex=this.skillsFormArray.length,this.lastAddedIndex=this.skillsFormArray.length-1)}formatedDate(n){const s=new Date(n),Z=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`;return console.log(Z),Z}}return(a=v).\u0275fac=function(n){return new(n||a)(e.Y36(m.F0),e.Y36(e.Qsj),e.Y36(r.qu),e.Y36(y.eN),e.Y36(g.ez),e.Y36(g.YP),e.Y36(p.s))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],viewQuery:function(n,t){if(1&n&&e.Gf(S,5),2&n){let s;e.iGM(s=e.CRH())&&(t.itemInput=s.first)}},features:[e._Bn([g.ez,g.YP])],decls:67,vars:25,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[3,"formGroup"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["htmlFor","firstname2"],["field","model_name",3,"ngModel","ngModelOptions","suggestions","dropdown","ngModelChange","onSelect","completeMethod"],["field","shop_name",3,"ngModel","ngModelOptions","suggestions","dropdown","ngModelChange","onSelect","completeMethod"],[1,"field","col-12","md:col-2"],["pInputText","","id","firstname2","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["htmlFor","lastname2"],["pInputText","","id","lastname2","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["htmlFor","city"],["formControlName","purchase_by","locale","en-IN"],["formControlName","purchase_rate","inputId","currency-india","locale","en-IN"],[1,"p-input-icon-right"],["dateFormat","dd/mm/yy","formControlName","purchase_date",3,"showButtonBar","onSelect"],[1,"pi","pi-calendar"],["inputId","percent",3,"ngModel","ngModelOptions","ngModelChange"],["dateFormat","dd/mm/yy","formControlName","warranty_expired",3,"showButtonBar"],["formControlName","cgst_p","inputId","percent"],["formControlName","sgst_p","inputId","percent"],["formControlName","sales_rate","locale","en-IN"],[1,"field","col-12","md:col-12"],["icon","pi pi-check","styleClass","p-button-primary ","label","Save & Apply",3,"disabled","click"],["icon","pi pi-refresh","styleClass","p-button-danger","label","Reset",3,"click"],["class","loader",4,"ngIf"],["class","overlay",4,"ngIf"],[1,"loader"],[1,"overlay"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),e._uU(4,"Manage Scheduling"),e.qZA(),e.TgZ(5,"form",3)(6,"div",4)(7,"div",5)(8,"label",6),e._uU(9,"Select Device"),e.qZA(),e.TgZ(10,"p-autoComplete",7),e.NdJ("ngModelChange",function(o){return t.selectedCountryAdvanced=o})("onSelect",function(){return t.selected()})("completeMethod",function(o){return t.filterCountry(o)}),e.qZA()(),e.TgZ(11,"div",5)(12,"label",6),e._uU(13,"Select Channel"),e.qZA(),e.TgZ(14,"p-autoComplete",8),e.NdJ("ngModelChange",function(o){return t.selectedDealer=o})("onSelect",function(){return t.setDealer()})("completeMethod",function(o){return t.filterDealer(o)}),e.qZA()(),e.TgZ(15,"div",9)(16,"label",6),e._uU(17,"DO TYPE:"),e.qZA(),e.TgZ(18,"input",10),e.NdJ("ngModelChange",function(o){return t.product_n=o}),e.qZA()(),e.TgZ(19,"div",9)(20,"label",11),e._uU(21,"Relay Close Time"),e.qZA(),e.TgZ(22,"input",12),e.NdJ("ngModelChange",function(o){return t.company_n=o}),e.qZA()(),e.TgZ(23,"div",9)(24,"label",13),e._uU(25,"Relay Delay Time"),e.qZA(),e._UZ(26,"p-inputNumber",14),e.qZA(),e.TgZ(27,"div",9)(28,"label",13),e._uU(29,"Timer Start Hrs"),e.qZA(),e._UZ(30,"p-inputNumber",15),e.qZA(),e.TgZ(31,"div",9)(32,"label",13),e._uU(33,"Timer Start Min"),e.qZA(),e.TgZ(34,"span",16)(35,"p-calendar",17),e.NdJ("onSelect",function(){return t.setWarranty()}),e.qZA(),e._UZ(36,"i",18),e.qZA()(),e.TgZ(37,"div",9)(38,"label",13),e._uU(39,"Timer Start Hrs"),e.qZA(),e.TgZ(40,"p-inputNumber",19),e.NdJ("ngModelChange",function(o){return t.warr_in_month=o})("ngModelChange",function(){return t.setWarranty()}),e.qZA()(),e.TgZ(41,"div",9)(42,"label",13),e._uU(43,"Timer stop min "),e.qZA(),e.TgZ(44,"span",16),e._UZ(45,"p-calendar",20)(46,"i",18),e.qZA()(),e.TgZ(47,"div",9)(48,"label",13),e._uU(49,"Timer stop hrs -1 "),e.qZA(),e._UZ(50,"p-inputNumber",21),e.qZA(),e.TgZ(51,"div",9)(52,"label",13),e._uU(53,"Timer stop min -1 "),e.qZA(),e._UZ(54,"p-inputNumber",22),e.qZA(),e.TgZ(55,"div",9)(56,"label",13),e._uU(57,"Timer stop min -1 "),e.qZA(),e._UZ(58,"p-inputNumber",23),e.qZA()(),e.TgZ(59,"div",24)(60,"p-button",25),e.NdJ("click",function(){return t.insertStockData()}),e.qZA(),e._uU(61," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(62,"p-button",26),e.NdJ("click",function(){return t.resetData()}),e.qZA()(),e._UZ(63,"div",9),e.qZA()()()(),e._UZ(64,"p-toast"),e.YNc(65,k,6,0,"div",27),e.YNc(66,F,1,0,"div",28)),2&n&&(e.xp6(5),e.Q6J("formGroup",t.stockIn),e.xp6(5),e.Q6J("ngModel",t.selectedCountryAdvanced)("ngModelOptions",e.DdM(20,D))("suggestions",t.filteredCountries)("dropdown",!0),e.xp6(4),e.Q6J("ngModel",t.selectedDealer)("ngModelOptions",e.DdM(21,D))("suggestions",t.filteredDealer)("dropdown",!0),e.xp6(4),e.Q6J("ngModel",t.product_n)("ngModelOptions",e.DdM(22,D)),e.xp6(4),e.Q6J("ngModel",t.company_n)("ngModelOptions",e.DdM(23,D)),e.xp6(13),e.Q6J("showButtonBar",!0),e.xp6(5),e.Q6J("ngModel",t.warr_in_month)("ngModelOptions",e.DdM(24,D)),e.xp6(5),e.Q6J("showButtonBar",!0),e.xp6(15),e.Q6J("disabled",0==t.skillsFormArray.length),e.xp6(5),e.Q6J("ngIf",t.spinner),e.xp6(1),e.Q6J("ngIf",t.spinner))},dependencies:[l.FN,d.O5,r._Y,r.Fj,r.JJ,r.JL,r.On,r.sg,r.u,c.Qc,h.f,C.zx,A.o,T.Rn],encapsulation:2}),v})(),L=(()=>{var a;class v{}return(a=v).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[m.Bz.forChild([{path:"",component:I}]),m.Bz]}),v})();var O=i(1480),U=i(3965),N=i(9663),P=i(8062),z=i(4055),w=i(6218),B=i(5359),J=i(7680);let x=(()=>{var a;class v{}return(a=v).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[g.ez,g.YP],imports:[l.EV,d.ez,r.u5,r.UX,L,c.WN,h._8,O.Gg,J.L,U.kW,N.zz,T.L$,P.XH,z.q4,w.A,A.j,B.x]}),v})()},5359:(b,_,i)=>{i.d(_,{i:()=>g,x:()=>e});var d=i(1180),r=i(4769),m=i(6814);const y=["*"];let g=(()=>{var p;class l{constructor(){(0,d.Z)(this,"style",void 0),(0,d.Z)(this,"styleClass",void 0),(0,d.Z)(this,"layout","horizontal"),(0,d.Z)(this,"type","solid"),(0,d.Z)(this,"align",void 0)}containerClass(){return{"p-divider p-component":!0,"p-divider-horizontal":"horizontal"===this.layout,"p-divider-vertical":"vertical"===this.layout,"p-divider-solid":"solid"===this.type,"p-divider-dashed":"dashed"===this.type,"p-divider-dotted":"dotted"===this.type,"p-divider-left":"horizontal"===this.layout&&(!this.align||"left"===this.align),"p-divider-center":"horizontal"===this.layout&&"center"===this.align||"vertical"===this.layout&&(!this.align||"center"===this.align),"p-divider-right":"horizontal"===this.layout&&"right"===this.align,"p-divider-top":"vertical"===this.layout&&"top"===this.align,"p-divider-bottom":"vertical"===this.layout&&"bottom"===this.align}}}return p=l,(0,d.Z)(l,"\u0275fac",function(h){return new(h||p)}),(0,d.Z)(l,"\u0275cmp",r.Xpm({type:p,selectors:[["p-divider"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",layout:"layout",type:"type",align:"align"},ngContentSelectors:y,decls:3,vars:4,consts:[["role","separator",3,"ngClass","ngStyle"],[1,"p-divider-content"]],template:function(h,C){1&h&&(r.F$t(),r.TgZ(0,"div",0)(1,"div",1),r.Hsn(2),r.qZA()()),2&h&&(r.Tol(C.styleClass),r.Q6J("ngClass",C.containerClass())("ngStyle",C.style))},dependencies:[m.mk,m.PC],styles:['.p-divider-horizontal{display:flex;width:100%;position:relative;align-items:center}.p-divider-horizontal:before{position:absolute;display:block;top:50%;left:0;width:100%;content:""}.p-divider-horizontal.p-divider-left{justify-content:flex-start}.p-divider-horizontal.p-divider-right{justify-content:flex-end}.p-divider-horizontal.p-divider-center{justify-content:center}.p-divider-content{z-index:1}.p-divider-vertical{min-height:100%;margin:0 1rem;display:flex;position:relative;justify-content:center}.p-divider-vertical:before{position:absolute;display:block;top:0;left:50%;height:100%;content:""}.p-divider-vertical.p-divider-top{align-items:flex-start}.p-divider-vertical.p-divider-center{align-items:center}.p-divider-vertical.p-divider-bottom{align-items:flex-end}.p-divider-solid.p-divider-horizontal:before{border-top-style:solid}.p-divider-solid.p-divider-vertical:before{border-left-style:solid}.p-divider-dashed.p-divider-horizontal:before{border-top-style:dashed}.p-divider-dashed.p-divider-vertical:before{border-left-style:dashed}.p-divider-dotted.p-divider-horizontal:before{border-top-style:dotted}.p-divider-dotted.p-divider-horizontal:before{border-left-style:dotted}\n'],encapsulation:2,changeDetection:0})),l})(),e=(()=>{var p;class l{}return p=l,(0,d.Z)(l,"\u0275fac",function(h){return new(h||p)}),(0,d.Z)(l,"\u0275mod",r.oAB({type:p})),(0,d.Z)(l,"\u0275inj",r.cJS({imports:[m.ez]})),l})()},7680:(b,_,i)=>{i.d(_,{L:()=>g});var d=i(1180),r=i(6814),m=i(4769);let g=(()=>{var e;class p{}return e=p,(0,d.Z)(p,"\u0275fac",function(c){return new(c||e)}),(0,d.Z)(p,"\u0275mod",m.oAB({type:e})),(0,d.Z)(p,"\u0275inj",m.cJS({imports:[r.ez]})),p})()}}]);