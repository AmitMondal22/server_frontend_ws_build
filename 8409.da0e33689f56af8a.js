"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[8409],{8409:(Z,w,o)=>{o.r(w),o.d(w,{TreeDemoModule:()=>GC});var a=o(6814),l=o(95),i=o(3557),x=o(5219),N=o(9862),I=o(4769),b=o(981),S=o(8814),f=o(9552),d=o(707),m=o(3714),_=o(4480),T=o(4104),s=o(1312),h=o(6340),v=o(3904);function u(C,t){if(1&C){const g=I.EpF();I.TgZ(0,"button",14),I.NdJ("click",function(){I.CHM(g);const e=I.oxw();return I.KtG(e.openNew())}),I.qZA()}}function D(C,t){if(1&C){const g=I.EpF();I.TgZ(0,"div",15)(1,"h5",16),I._uU(2,"Manage Organization"),I.qZA(),I.TgZ(3,"span",17),I._UZ(4,"i",18),I.TgZ(5,"input",19),I.NdJ("input",function(e){I.CHM(g),I.oxw();const n=I.MAs(5);return I.KtG(n.filterGlobal(e.target.value,"contains"))}),I.qZA()()()}}function O(C,t){1&C&&(I.TgZ(0,"tr")(1,"th"),I._uU(2,"Sl No."),I.qZA(),I.TgZ(3,"th",20),I._uU(4,"Name "),I._UZ(5,"p-sortIcon",21),I.qZA(),I.TgZ(6,"th"),I._uU(7,"Action"),I.qZA()())}function E(C,t){if(1&C){const g=I.EpF();I.TgZ(0,"tr")(1,"td"),I._uU(2),I.qZA(),I.TgZ(3,"td"),I._uU(4),I.qZA(),I.TgZ(5,"td")(6,"button",22),I.NdJ("click",function(){const n=I.CHM(g).$implicit,r=I.oxw();return I.KtG(r.editProduct(n))}),I.qZA(),I.TgZ(7,"button",23),I.NdJ("click",function(){const n=I.CHM(g).$implicit,r=I.oxw();return I.KtG(r.deleteProduct(n))}),I.qZA()()()}if(2&C){const g=t.$implicit,A=t.rowIndex;I.xp6(2),I.Oqu(A+1),I.xp6(2),I.Oqu(g.organization_name)}}function R(C,t){if(1&C&&(I.TgZ(0,"div",15),I._uU(1),I.qZA()),2&C){const g=I.oxw();I.xp6(1),I.hij("In total there are ",g.products?g.products.length:0," Organization.")}}function B(C,t){1&C&&(I.TgZ(0,"small",28),I._uU(1,"Organization Name is required."),I.qZA())}function U(C,t){if(1&C){const g=I.EpF();I.TgZ(0,"div",24)(1,"label",25),I._uU(2,"Organization Name"),I.qZA(),I.TgZ(3,"input",26),I.NdJ("ngModelChange",function(e){I.CHM(g);const n=I.oxw();return I.KtG(n.product.organization_name=e)}),I.qZA(),I.YNc(4,B,2,0,"small",27),I.qZA()}if(2&C){const g=I.oxw();I.xp6(3),I.Q6J("ngModel",g.product.organization_name),I.xp6(1),I.Q6J("ngIf",g.submitted&&!g.product.organization_name)}}function G(C,t){if(1&C){const g=I.EpF();I.TgZ(0,"button",29),I.NdJ("click",function(){I.CHM(g);const e=I.oxw();return I.KtG(e.hideDialog())}),I.qZA(),I.TgZ(1,"button",30),I.NdJ("click",function(){I.CHM(g);const e=I.oxw();return I.KtG(e.saveProduct())}),I.qZA()}}function Y(C,t){1&C&&(I.TgZ(0,"div",31),I._UZ(1,"div")(2,"div")(3,"div")(4,"div")(5,"div"),I.qZA())}function H(C,t){1&C&&I._UZ(0,"div",32)}const j=function(){return["name","country.name","representative.name","status"]},Q=function(){return{"min-width":"75rem"}},V=function(){return{width:"450px"}};let J=(()=>{var C;class t{constructor(A,e,n,r,c,p){this.router=A,this.http=e,this.productService=n,this.messageService=r,this.confirmationService=c,this.api=p,this.productDialog=!1,this.submitted=!1,this.data1=[],this.client_id=+localStorage.getItem("c_id"),this.spinner=!1}ngOnInit(){this.getDeviceDATA()}getDeviceDATA(){const A=this.api.baseUrl,e=localStorage.getItem("token"),n=(new N.WM).set("Authorization",`Bearer ${e}`),r={client_id:this.client_id};this.spinner=!0,this.http.post(A+"/client/manage_organization/list",r,{headers:n}).subscribe(c=>{this.spinner=!1,console.log(c),this.data1=c,this.products=this.data1.data},c=>{"401"==c.status&&this.router.navigate(["/"]),console.log(c.status),this.spinner=!1,console.error(c)})}openNew(){this.product={},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.confirmationService.confirm({message:"Are you sure you want to delete the selected products?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.products=this.products.filter(A=>!this.selectedProducts?.includes(A)),this.selectedProducts=null,this.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}})}editProduct(A){this.product={...A},this.productDialog=!0}deleteProduct(A){this.confirmationService.confirm({message:"Are you sure you want to delete "+A.organization_name+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.DeleteCompany(A.organization_id)}})}hideDialog(){this.productDialog=!1,this.submitted=!1}saveProduct(){this.submitted=!0,this.product.organization_name?.trim()&&(this.product.organization_id?this.updateCompany(this.product.organization_id,this.product.organization_name):this.AddCompany(this.product.organization_name),this.products=[...this.products],this.productDialog=!1,this.product={})}findIndexById(A){let e=-1;for(let n=0;n<this.products.length;n++)if(this.products[n].organization_id===A){e=n;break}return e}updateCompany(A,e){const n={organization_id:A,organization_name:e,created_by:1,client_id:this.client_id},r=this.api.baseUrl,c=localStorage.getItem("token"),p=(new N.WM).set("Authorization",`Bearer ${c}`);this.spinner=!0,this.http.post(r+"/client/manage_organization/edit",n,{headers:p}).subscribe(y=>{this.spinner=!1,console.log(y),this.messageService.add({severity:"success",summary:"Successful",detail:"Organization Updated",life:3e3}),this.getDeviceDATA()},y=>{"401"==y.status&&this.router.navigate(["/"]),console.log(y.status),this.spinner=!1,console.error(y)})}AddCompany(A){const e={organization_name:A,created_by:1,client_id:this.client_id},n=this.api.baseUrl,r=localStorage.getItem("token"),c=(new N.WM).set("Authorization",`Bearer ${r}`);this.spinner=!0,this.http.post(n+"/client/manage_organization/add",e,{headers:c}).subscribe(p=>{this.spinner=!1,console.log(p),this.messageService.add({severity:"success",summary:"Successful",detail:"Organization Created",life:3e3}),this.getDeviceDATA()},p=>{"401"==p.status&&this.router.navigate(["/"]),console.log(p.status),this.spinner=!1,console.error(p)})}DeleteCompany(A){const e={organization_id:A,client_id:this.client_id},n=this.api.baseUrl,r=localStorage.getItem("token"),c=(new N.WM).set("Authorization",`Bearer ${r}`);this.spinner=!0,this.http.post(n+"/client/manage_organization/delete",e,{headers:c}).subscribe(p=>{this.spinner=!1,console.log(p),this.messageService.add({severity:"success",summary:"Successful",detail:"Organization Deleted",life:3e3}),this.getDeviceDATA()},p=>{"401"==p.status&&this.router.navigate(["/"]),console.log(p.status),this.spinner=!1,console.error(p)})}}return(C=t).\u0275fac=function(A){return new(A||C)(I.Y36(i.F0),I.Y36(N.eN),I.Y36(b.M),I.Y36(x.ez),I.Y36(x.YP),I.Y36(S.s))},C.\u0275cmp=I.Xpm({type:C,selectors:[["ng-component"]],features:[I._Bn([x.ez,x.YP])],decls:16,vars:20,consts:[[1,"card"],["styleClass","mb-4 gap-2"],["pTemplate","left"],["dataKey","Organization_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Organization Details","styleClass","p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["class","loader",4,"ngIf"],["class","overlay",4,"ngIf"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-primary","mr-2",3,"click"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["pSortableColumn","name",2,"min-width","15rem"],["field","name"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-primary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngModelChange"],["class","p-error",4,"ngIf"],[1,"p-error"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],[1,"loader"],[1,"overlay"]],template:function(A,e){1&A&&(I.TgZ(0,"div",0),I._UZ(1,"p-toast"),I.TgZ(2,"p-toolbar",1),I.YNc(3,u,1,0,"ng-template",2),I.qZA(),I.TgZ(4,"p-table",3,4),I.NdJ("selectionChange",function(r){return e.selectedProducts=r}),I.YNc(6,D,6,0,"ng-template",5),I.YNc(7,O,8,0,"ng-template",6),I.YNc(8,E,8,2,"ng-template",7),I.YNc(9,R,2,1,"ng-template",8),I.qZA()(),I.TgZ(10,"p-dialog",9),I.NdJ("visibleChange",function(r){return e.productDialog=r}),I.YNc(11,U,5,2,"ng-template",10),I.YNc(12,G,2,0,"ng-template",11),I.qZA(),I._UZ(13,"p-confirmDialog"),I.YNc(14,Y,6,0,"div",12),I.YNc(15,H,1,0,"div",13)),2&A&&(I.xp6(4),I.Q6J("value",e.products)("rows",4)("paginator",!0)("globalFilterFields",I.DdM(16,j))("tableStyle",I.DdM(17,Q))("selection",e.selectedProducts)("rowHover",!0)("showCurrentPageReport",!0),I.xp6(6),I.Akn(I.DdM(18,V)),I.Q6J("visible",e.productDialog)("modal",!0),I.xp6(3),I.Akn(I.DdM(19,V)),I.xp6(1),I.Q6J("ngIf",e.spinner),I.xp6(1),I.Q6J("ngIf",e.spinner))},dependencies:[x.jx,a.O5,l.Fj,l.JJ,l.Q7,l.On,f.iA,f.lQ,f.fz,d.Hq,m.o,_.H,T.FN,s.V,h.o,v.Q],encapsulation:2}),t})(),W=(()=>{var C;class t{}return(C=t).\u0275fac=function(A){return new(A||C)},C.\u0275mod=I.oAB({type:C}),C.\u0275inj=I.cJS({imports:[i.Bz.forChild([{path:"",component:J}]),i.Bz]}),t})();var k=o(1180),z=o(6489),X=o(2591),$=o(6005),q=o(4562),gg=o(1604),Cg=o(3983),Ig=o(2324),Ag=o(8717);let VC=(()=>{var C;class t{}return C=t,(0,k.Z)(t,"\u0275fac",function(A){return new(A||C)}),(0,k.Z)(t,"\u0275mod",I.oAB({type:C})),(0,k.Z)(t,"\u0275inj",I.cJS({imports:[a.ez,x.m8,_.T,z.v,X.n,$.v,q.X,gg.V,Ig.W,Ag.L,Cg.p,x.m8,z.v]})),t})();var zC=o(3514),KC=o(6804),LC=o(4055),FC=o(3965),RC=o(6651),BC=o(7902),UC=o(6022);let GC=(()=>{var C;class t{}return(C=t).\u0275fac=function(A){return new(A||C)},C.\u0275mod=I.oAB({type:C}),C.\u0275inj=I.cJS({imports:[W,VC,zC.dp,a.ez,l.u5,f.U$,UC.Xt,d.hJ,BC.JH,m.j,KC.KZ,_.T,LC.q4,FC.kW,RC.q,T.EV,s.S,h.V,v.D]}),t})()},3983:(Z,w,o)=>{o.d(w,{p:()=>N});var a=o(1180),l=o(4769),i=o(4713),x=o(2332);let N=(()=>{var I;class b extends i.s{constructor(...f){super(...f),(0,a.Z)(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+(0,x.Th)()+")"}}return I=b,(0,a.Z)(b,"\u0275fac",function(){let S;return function(d){return(S||(S=l.n5z(I)))(d||I)}}()),(0,a.Z)(b,"\u0275cmp",l.Xpm({type:I,selectors:[["PlusIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(f,d){1&f&&(l.O4$(),l.TgZ(0,"svg",0)(1,"g"),l._UZ(2,"path",1),l.qZA(),l.TgZ(3,"defs")(4,"clipPath",2),l._UZ(5,"rect",3),l.qZA()()()),2&f&&(l.Tol(d.getClassNames()),l.uIk("aria-label",d.ariaLabel)("aria-hidden",d.ariaHidden)("role",d.role),l.xp6(1),l.uIk("clip-path",d.pathId),l.xp6(3),l.Q6J("id",d.pathId))},encapsulation:2})),b})()},6651:(Z,w,o)=>{o.d(w,{k:()=>S,q:()=>f});var a=o(1180),l=o(6814),i=o(4769);function x(d,m){if(1&d&&(i.TgZ(0,"div",5),i._uU(1),i.qZA()),2&d){const _=i.oxw(2);i.Udp("display",null!=_.value&&0!==_.value?"flex":"none"),i.xp6(1),i.AsE("",_.value,"",_.unit,"")}}function N(d,m){if(1&d&&(i.TgZ(0,"div",3),i.YNc(1,x,2,4,"div",4),i.qZA()),2&d){const _=i.oxw();i.Udp("width",_.value+"%")("background",_.color),i.xp6(1),i.Q6J("ngIf",_.showValue)}}function I(d,m){if(1&d&&(i.TgZ(0,"div",6),i._UZ(1,"div",7),i.qZA()),2&d){const _=i.oxw();i.xp6(1),i.Udp("background",_.color)}}const b=function(d,m){return{"p-progressbar p-component":!0,"p-progressbar-determinate":d,"p-progressbar-indeterminate":m}};let S=(()=>{var d;class m{constructor(){(0,a.Z)(this,"value",void 0),(0,a.Z)(this,"showValue",!0),(0,a.Z)(this,"styleClass",void 0),(0,a.Z)(this,"style",void 0),(0,a.Z)(this,"unit","%"),(0,a.Z)(this,"mode","determinate"),(0,a.Z)(this,"color",void 0)}}return d=m,(0,a.Z)(m,"\u0275fac",function(T){return new(T||d)}),(0,a.Z)(m,"\u0275cmp",i.Xpm({type:d,selectors:[["p-progressBar"]],hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},decls:3,vars:10,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width","background",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],["class","p-progressbar-label",3,"display",4,"ngIf"],[1,"p-progressbar-label"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(T,s){1&T&&(i.TgZ(0,"div",0),i.YNc(1,N,2,5,"div",1),i.YNc(2,I,2,2,"div",2),i.qZA()),2&T&&(i.Tol(s.styleClass),i.Q6J("ngStyle",s.style)("ngClass",i.WLB(7,b,"determinate"===s.mode,"indeterminate"===s.mode)),i.uIk("aria-valuenow",s.value),i.xp6(1),i.Q6J("ngIf","determinate"===s.mode),i.xp6(1),i.Q6J("ngIf","indeterminate"===s.mode))},dependencies:[l.mk,l.O5,l.PC],styles:['.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0})),m})(),f=(()=>{var d;class m{}return d=m,(0,a.Z)(m,"\u0275fac",function(T){return new(T||d)}),(0,a.Z)(m,"\u0275mod",i.oAB({type:d})),(0,a.Z)(m,"\u0275inj",i.cJS({imports:[l.ez]})),m})()},6340:(Z,w,o)=>{o.d(w,{V:()=>T,o:()=>_});var a=o(1180),l=o(6814),i=o(4769),x=o(5219);function N(s,h){1&s&&i.GkF(0)}function I(s,h){if(1&s&&(i.TgZ(0,"div",4),i.YNc(1,N,1,0,"ng-container",5),i.qZA()),2&s){const v=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",v.startTemplate)}}function b(s,h){1&s&&i.GkF(0)}function S(s,h){if(1&s&&(i.TgZ(0,"div",6),i.YNc(1,b,1,0,"ng-container",5),i.qZA()),2&s){const v=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",v.centerTemplate)}}function f(s,h){1&s&&i.GkF(0)}function d(s,h){if(1&s&&(i.TgZ(0,"div",7),i.YNc(1,f,1,0,"ng-container",5),i.qZA()),2&s){const v=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",v.endTemplate)}}const m=["*"];let _=(()=>{var s;class h{constructor(u){(0,a.Z)(this,"el",void 0),(0,a.Z)(this,"style",void 0),(0,a.Z)(this,"styleClass",void 0),(0,a.Z)(this,"templates",void 0),(0,a.Z)(this,"startTemplate",void 0),(0,a.Z)(this,"endTemplate",void 0),(0,a.Z)(this,"centerTemplate",void 0),this.el=u}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(u=>{switch(u.getType()){case"left":this.startTemplate=u.template;break;case"right":this.endTemplate=u.template;break;case"center":this.centerTemplate=u.template}})}}return s=h,(0,a.Z)(h,"\u0275fac",function(u){return new(u||s)(i.Y36(i.SBq))}),(0,a.Z)(h,"\u0275cmp",i.Xpm({type:s,selectors:[["p-toolbar"]],contentQueries:function(u,D,O){if(1&u&&i.Suo(O,x.jx,4),2&u){let E;i.iGM(E=i.CRH())&&(D.templates=E)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:m,decls:5,vars:7,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left p-toolbar-group-start",4,"ngIf"],["class","p-toolbar-group-center",4,"ngIf"],["class","p-toolbar-group-right p-toolbar-group-end",4,"ngIf"],[1,"p-toolbar-group-left","p-toolbar-group-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-center"],[1,"p-toolbar-group-right","p-toolbar-group-end"]],template:function(u,D){1&u&&(i.F$t(),i.TgZ(0,"div",0),i.Hsn(1),i.YNc(2,I,2,1,"div",1),i.YNc(3,S,2,1,"div",2),i.YNc(4,d,2,1,"div",3),i.qZA()),2&u&&(i.Tol(D.styleClass),i.Q6J("ngClass","p-toolbar p-component")("ngStyle",D.style),i.xp6(2),i.Q6J("ngIf",D.startTemplate),i.xp6(1),i.Q6J("ngIf",D.centerTemplate),i.xp6(1),i.Q6J("ngIf",D.endTemplate))},dependencies:[l.mk,l.O5,l.tP,l.PC],styles:[".p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-start,.p-toolbar-group-center,.p-toolbar-group-end,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}\n"],encapsulation:2,changeDetection:0})),h})(),T=(()=>{var s;class h{}return s=h,(0,a.Z)(h,"\u0275fac",function(u){return new(u||s)}),(0,a.Z)(h,"\u0275mod",i.oAB({type:s})),(0,a.Z)(h,"\u0275inj",i.cJS({imports:[l.ez]})),h})()}}]);